"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_tsparticles_engine_browser_Core_Container_js"],{

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Canvas.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Canvas.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Canvas: function() { return /* binding */ Canvas; }\n/* harmony export */ });\n/* harmony import */ var _Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/CanvasUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/CanvasUtils.js\");\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n/* harmony import */ var _Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Utils/ColorUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/ColorUtils.js\");\n/* harmony import */ var _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils/Constants.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Constants.js\");\n\n\n\n\nfunction setTransformValue(factor, newFactor, key) {\n    const newValue = newFactor[key], defaultValue = 1;\n    if (newValue !== undefined) {\n        var _factor_key;\n        factor[key] = ((_factor_key = factor[key]) !== null && _factor_key !== void 0 ? _factor_key : defaultValue) * newValue;\n    }\n}\nfunction setStyle(canvas, style) {\n    let important = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n    if (!style) {\n        return;\n    }\n    const element = canvas;\n    if (!element) {\n        return;\n    }\n    const elementStyle = element.style;\n    if (!elementStyle) {\n        return;\n    }\n    for(const key in style){\n        const value = style[key];\n        if (!value) {\n            continue;\n        }\n        elementStyle.setProperty(key, value, important ? \"important\" : \"\");\n    }\n}\nclass Canvas {\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = this._trailFill, minimumLength = 0;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        } else if (trail.enable && trail.length > minimumLength && trailFill) {\n            if (trailFill.color) {\n                this._paintBase((0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleFromRgb)(trailFill.color, trailFill.opacity));\n            } else if (trailFill.image) {\n                this._paintImage(trailFill.image, trailFill.opacity);\n            }\n        } else if (options.clear) {\n            this.draw((ctx)=>{\n                (0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.clear)(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this._generated) {\n            const element = this.element;\n            element === null || element === void 0 ? void 0 : element.remove();\n        } else {\n            this._resetOriginalStyle();\n        }\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return;\n        }\n        return cb(ctx);\n    }\n    drawAsync(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return Promise.resolve(undefined);\n        }\n        return cb(ctx);\n    }\n    async drawParticle(particle, delta) {\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius(), minimumSize = 0;\n        if (radius <= minimumSize) {\n            return;\n        }\n        var _particle_getStrokeColor;\n        const pfColor = particle.getFillColor(), psColor = (_particle_getStrokeColor = particle.getStrokeColor()) !== null && _particle_getStrokeColor !== void 0 ? _particle_getStrokeColor : pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        await this.drawAsync(async (ctx)=>{\n            var _particle_opacity;\n            var _particle_bubble_opacity, _ref, _particle_strokeOpacity;\n            const container = this.container, options = container.actualOptions, zIndexOptions = particle.options.zIndex, zIndexFactorOffset = 1, zIndexFactor = zIndexFactorOffset - particle.zIndexFactor, zOpacityFactor = zIndexFactor ** zIndexOptions.opacityRate, defaultOpacity = 1, opacity = (_ref = (_particle_bubble_opacity = particle.bubble.opacity) !== null && _particle_bubble_opacity !== void 0 ? _particle_bubble_opacity : (_particle_opacity = particle.opacity) === null || _particle_opacity === void 0 ? void 0 : _particle_opacity.value) !== null && _ref !== void 0 ? _ref : defaultOpacity, strokeOpacity = (_particle_strokeOpacity = particle.strokeOpacity) !== null && _particle_strokeOpacity !== void 0 ? _particle_strokeOpacity : opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleFromHsl)(fColor, zOpacity) : undefined\n            };\n            colorStyles.stroke = sColor ? (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleFromHsl)(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            await (0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.drawParticle)({\n                container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * zIndexFactor ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    async drawParticlePlugin(plugin, particle, delta) {\n        await this.drawAsync((ctx)=>(0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.drawParticlePlugin)(ctx, plugin, particle, delta));\n    }\n    async drawPlugin(plugin, delta) {\n        await this.drawAsync((ctx)=>(0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.drawPlugin)(ctx, plugin, delta));\n    }\n    async init() {\n        this._safeMutationObserver((obs)=>obs.disconnect());\n        this._mutationObserver = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.safeMutationObserver)((records)=>{\n            for (const record of records){\n                if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                    this._repairStyle();\n                }\n            }\n        });\n        this.resize();\n        this._initStyle();\n        await this._initCover();\n        try {\n            await this._initTrail();\n        } catch (e) {\n            (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.getLogger)().error(e);\n        }\n        this.initBackground();\n        this._safeMutationObserver((obs)=>{\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, {\n                attributes: true\n            });\n        });\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element;\n        if (!element) {\n            return;\n        }\n        const elementStyle = element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.rangeColorToRgb)(background.color);\n            elementStyle.backgroundColor = color ? (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleFromRgb)(color, background.opacity) : \"\";\n        } else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins){\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            var _plugin_particleFillColor;\n            if ((_plugin_particleFillColor = plugin.particleFillColor) !== null && _plugin_particleFillColor !== void 0 ? _plugin_particleFillColor : plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters){\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            var _updater_getColorStyles, _ref;\n            if ((_ref = (_updater_getColorStyles = updater.getColorStyles) !== null && _updater_getColorStyles !== void 0 ? _updater_getColorStyles : updater.getTransformValues) !== null && _ref !== void 0 ? _ref : updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        if (this._generated && this.element) {\n            this.element.remove();\n        }\n        this._generated = canvas.dataset && _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_3__.generatedAttribute in canvas.dataset ? canvas.dataset[_Utils_Constants_js__WEBPACK_IMPORTED_MODULE_3__.generatedAttribute] === \"true\" : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.deepExtend)({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        this._safeMutationObserver((obs)=>{\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, {\n                attributes: true\n            });\n        });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx)=>{\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                (0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.clear)(ctx, this.size);\n                if (this._coverImage) {\n                    this._paintImage(this._coverImage.image, this._coverImage.opacity);\n                } else if (this._coverColorStyle) {\n                    this._paintBase(this._coverColorStyle);\n                } else {\n                    this._paintBase();\n                }\n            } else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return false;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio\n        };\n        if (newSize.height === size.height && newSize.width === size.width && newSize.height === this.element.height && newSize.width === this.element.width) {\n            return false;\n        }\n        const oldSize = {\n            ...size\n        };\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            container.particles.setResizeFactor({\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height\n            });\n        }\n        return true;\n    }\n    stop() {\n        this._safeMutationObserver((obs)=>obs.disconnect());\n        this._mutationObserver = undefined;\n        this.draw((ctx)=>(0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.clear)(ctx, this.size));\n    }\n    async windowResize() {\n        if (!this.element || !this.resize()) {\n            return;\n        }\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        await container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n    constructor(container){\n        this.container = container;\n        this._applyPostDrawUpdaters = (particle)=>{\n            for (const updater of this._postDrawUpdaters){\n                var _updater_afterDraw;\n                (_updater_afterDraw = updater.afterDraw) === null || _updater_afterDraw === void 0 ? void 0 : _updater_afterDraw.call(updater, particle);\n            }\n        };\n        this._applyPreDrawUpdaters = (ctx, particle, radius, zOpacity, colorStyles, transform)=>{\n            for (const updater of this._preDrawUpdaters){\n                var _updater_beforeDraw;\n                if (updater.getColorStyles) {\n                    const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                    if (fill) {\n                        colorStyles.fill = fill;\n                    }\n                    if (stroke) {\n                        colorStyles.stroke = stroke;\n                    }\n                }\n                if (updater.getTransformValues) {\n                    const updaterTransform = updater.getTransformValues(particle);\n                    for(const key in updaterTransform){\n                        setTransformValue(transform, updaterTransform, key);\n                    }\n                }\n                (_updater_beforeDraw = updater.beforeDraw) === null || _updater_beforeDraw === void 0 ? void 0 : _updater_beforeDraw.call(updater, particle);\n            }\n        };\n        this._applyResizePlugins = ()=>{\n            for (const plugin of this._resizePlugins){\n                var _plugin_resize;\n                (_plugin_resize = plugin.resize) === null || _plugin_resize === void 0 ? void 0 : _plugin_resize.call(plugin);\n            }\n        };\n        this._getPluginParticleColors = (particle)=>{\n            let fColor, sColor;\n            for (const plugin of this._colorPlugins){\n                if (!fColor && plugin.particleFillColor) {\n                    fColor = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.rangeColorToHsl)(plugin.particleFillColor(particle));\n                }\n                if (!sColor && plugin.particleStrokeColor) {\n                    sColor = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.rangeColorToHsl)(plugin.particleStrokeColor(particle));\n                }\n                if (fColor && sColor) {\n                    break;\n                }\n            }\n            return [\n                fColor,\n                sColor\n            ];\n        };\n        this._initCover = async ()=>{\n            const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color;\n            if (color) {\n                const coverRgb = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.rangeColorToRgb)(color);\n                if (coverRgb) {\n                    const coverColor = {\n                        ...coverRgb,\n                        a: cover.opacity\n                    };\n                    this._coverColorStyle = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleFromRgb)(coverColor, coverColor.a);\n                }\n            } else {\n                await new Promise((resolve, reject)=>{\n                    if (!cover.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", ()=>{\n                        this._coverImage = {\n                            image: img,\n                            opacity: cover.opacity\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt)=>{\n                        reject(evt.error);\n                    });\n                    img.src = cover.image;\n                });\n            }\n        };\n        this._initStyle = ()=>{\n            const element = this.element, options = this.container.actualOptions;\n            if (!element) {\n                return;\n            }\n            if (this._fullScreen) {\n                this._originalStyle = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.deepExtend)({}, element.style);\n                this._setFullScreenStyle();\n            } else {\n                this._resetOriginalStyle();\n            }\n            for(const key in options.style){\n                if (!key || !options.style) {\n                    continue;\n                }\n                const value = options.style[key];\n                if (!value) {\n                    continue;\n                }\n                element.style.setProperty(key, value, \"important\");\n            }\n        };\n        this._initTrail = async ()=>{\n            const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = trail.fill;\n            if (!trail.enable) {\n                return;\n            }\n            const factorNumerator = 1, opacity = factorNumerator / trail.length;\n            if (trailFill.color) {\n                const fillColor = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_2__.rangeColorToRgb)(trailFill.color);\n                if (!fillColor) {\n                    return;\n                }\n                this._trailFill = {\n                    color: {\n                        ...fillColor\n                    },\n                    opacity\n                };\n            } else {\n                await new Promise((resolve, reject)=>{\n                    if (!trailFill.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", ()=>{\n                        this._trailFill = {\n                            image: img,\n                            opacity\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt)=>{\n                        reject(evt.error);\n                    });\n                    img.src = trailFill.image;\n                });\n            }\n        };\n        this._paintBase = (baseColor)=>{\n            this.draw((ctx)=>(0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.paintBase)(ctx, this.size, baseColor));\n        };\n        this._paintImage = (image, opacity)=>{\n            this.draw((ctx)=>(0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_0__.paintImage)(ctx, this.size, image, opacity));\n        };\n        this._repairStyle = ()=>{\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            this._safeMutationObserver((observer)=>observer.disconnect());\n            this._initStyle();\n            this.initBackground();\n            this._safeMutationObserver((observer)=>observer.observe(element, {\n                    attributes: true\n                }));\n        };\n        this._resetOriginalStyle = ()=>{\n            const element = this.element, originalStyle = this._originalStyle;\n            if (!(element && originalStyle)) {\n                return;\n            }\n            setStyle(element, originalStyle);\n        };\n        this._safeMutationObserver = (callback)=>{\n            if (!this._mutationObserver) {\n                return;\n            }\n            callback(this._mutationObserver);\n        };\n        this._setFullScreenStyle = ()=>{\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            const radix = 10;\n            setStyle(element, {\n                position: \"fixed\",\n                zIndex: this.container.actualOptions.fullScreen.zIndex.toString(radix),\n                top: \"0\",\n                left: \"0\",\n                width: \"100%\",\n                height: \"100%\"\n            }, true);\n        };\n        this.size = {\n            height: 0,\n            width: 0\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9DYW52YXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUg7QUFDckM7QUFDNEI7QUFDbEQ7QUFDMUQsU0FBU2Msa0JBQWtCQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsR0FBRztJQUM3QyxNQUFNQyxXQUFXRixTQUFTLENBQUNDLElBQUksRUFBRUUsZUFBZTtJQUNoRCxJQUFJRCxhQUFhRSxXQUFXO1lBQ1RMO1FBQWZBLE1BQU0sQ0FBQ0UsSUFBSSxHQUFHLENBQUNGLENBQUFBLGNBQUFBLE1BQU0sQ0FBQ0UsSUFBSSxjQUFYRix5QkFBQUEsY0FBZUksWUFBVyxJQUFLRDtJQUNsRDtBQUNKO0FBQ0EsU0FBU0csU0FBU0MsTUFBTSxFQUFFQyxLQUFLO1FBQUVDLFlBQUFBLGlFQUFZO0lBQ3pDLElBQUksQ0FBQ0QsT0FBTztRQUNSO0lBQ0o7SUFDQSxNQUFNRSxVQUFVSDtJQUNoQixJQUFJLENBQUNHLFNBQVM7UUFDVjtJQUNKO0lBQ0EsTUFBTUMsZUFBZUQsUUFBUUYsS0FBSztJQUNsQyxJQUFJLENBQUNHLGNBQWM7UUFDZjtJQUNKO0lBQ0EsSUFBSyxNQUFNVCxPQUFPTSxNQUFPO1FBQ3JCLE1BQU1JLFFBQVFKLEtBQUssQ0FBQ04sSUFBSTtRQUN4QixJQUFJLENBQUNVLE9BQU87WUFDUjtRQUNKO1FBQ0FELGFBQWFFLFdBQVcsQ0FBQ1gsS0FBS1UsT0FBT0gsWUFBWSxjQUFjO0lBQ25FO0FBQ0o7QUFDTyxNQUFNSztJQW9NVCxJQUFJQyxjQUFjO1FBQ2QsT0FBTyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsYUFBYSxDQUFDQyxVQUFVLENBQUNDLE1BQU07SUFDekQ7SUFDQWxDLFFBQVE7UUFDSixNQUFNbUMsVUFBVSxJQUFJLENBQUNKLFNBQVMsQ0FBQ0MsYUFBYSxFQUFFSSxRQUFRRCxRQUFRRSxTQUFTLENBQUNDLElBQUksQ0FBQ0YsS0FB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VUFBVTtnQkFDVjlDLFFBQVEsSUFBSSxDQUFDbkQsU0FBUyxDQUFDQyxhQUFhLENBQUNDLFVBQVUsQ0FBQ2lELE1BQU0sQ0FBQ3lHLFFBQVEsQ0FBQ0Q7Z0JBQ2hFRSxLQUFLO2dCQUNMQyxNQUFNO2dCQUNOekMsT0FBTztnQkFDUEYsUUFBUTtZQUNaLEdBQUc7UUFDUDtRQUNBLElBQUksQ0FBQzlGLElBQUksR0FBRztZQUNSOEYsUUFBUTtZQUNSRSxPQUFPO1FBQ1g7UUFDQSxJQUFJLENBQUNyRixRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDUixVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDRyxnQkFBZ0IsR0FBRyxFQUFFO1FBQzFCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsRUFBRTtRQUMzQixJQUFJLENBQUNDLGNBQWMsR0FBRyxFQUFFO1FBQ3hCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEVBQUU7SUFDM0I7QUErUEoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9lbmdpbmUvYnJvd3Nlci9Db3JlL0NhbnZhcy5qcz8zM2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFyLCBkcmF3UGFydGljbGUsIGRyYXdQYXJ0aWNsZVBsdWdpbiwgZHJhd1BsdWdpbiwgcGFpbnRCYXNlLCBwYWludEltYWdlIH0gZnJvbSBcIi4uL1V0aWxzL0NhbnZhc1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBnZXRMb2dnZXIsIHNhZmVNdXRhdGlvbk9ic2VydmVyIH0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRTdHlsZUZyb21Ic2wsIGdldFN0eWxlRnJvbVJnYiwgcmFuZ2VDb2xvclRvSHNsLCByYW5nZUNvbG9yVG9SZ2IgfSBmcm9tIFwiLi4vVXRpbHMvQ29sb3JVdGlscy5qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVkQXR0cmlidXRlIH0gZnJvbSBcIi4vVXRpbHMvQ29uc3RhbnRzLmpzXCI7XG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm1WYWx1ZShmYWN0b3IsIG5ld0ZhY3Rvciwga2V5KSB7XG4gICAgY29uc3QgbmV3VmFsdWUgPSBuZXdGYWN0b3Jba2V5XSwgZGVmYXVsdFZhbHVlID0gMTtcbiAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmYWN0b3Jba2V5XSA9IChmYWN0b3Jba2V5XSA/PyBkZWZhdWx0VmFsdWUpICogbmV3VmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0U3R5bGUoY2FudmFzLCBzdHlsZSwgaW1wb3J0YW50ID0gZmFsc2UpIHtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IGNhbnZhcztcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIGlmICghZWxlbWVudFN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50U3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gXCJpbXBvcnRhbnRcIiA6IFwiXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5fYXBwbHlQb3N0RHJhd1VwZGF0ZXJzID0gKHBhcnRpY2xlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZXIgb2YgdGhpcy5fcG9zdERyYXdVcGRhdGVycykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZXIuYWZ0ZXJEcmF3Py4ocGFydGljbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9hcHBseVByZURyYXdVcGRhdGVycyA9IChjdHgsIHBhcnRpY2xlLCByYWRpdXMsIHpPcGFjaXR5LCBjb2xvclN0eWxlcywgdHJhbnNmb3JtKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZXIgb2YgdGhpcy5fcHJlRHJhd1VwZGF0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZXIuZ2V0Q29sb3JTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmaWxsLCBzdHJva2UgfSA9IHVwZGF0ZXIuZ2V0Q29sb3JTdHlsZXMocGFydGljbGUsIGN0eCwgcmFkaXVzLCB6T3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclN0eWxlcy5maWxsID0gZmlsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclN0eWxlcy5zdHJva2UgPSBzdHJva2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZXIuZ2V0VHJhbnNmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZXJUcmFuc2Zvcm0gPSB1cGRhdGVyLmdldFRyYW5zZm9ybVZhbHVlcyhwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHVwZGF0ZXJUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybVZhbHVlKHRyYW5zZm9ybSwgdXBkYXRlclRyYW5zZm9ybSwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVyLmJlZm9yZURyYXc/LihwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2FwcGx5UmVzaXplUGx1Z2lucyA9ICgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIHRoaXMuX3Jlc2l6ZVBsdWdpbnMpIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4ucmVzaXplPy4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZ2V0UGx1Z2luUGFydGljbGVDb2xvcnMgPSAocGFydGljbGUpID0+IHtcbiAgICAgICAgICAgIGxldCBmQ29sb3IsIHNDb2xvcjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIHRoaXMuX2NvbG9yUGx1Z2lucykge1xuICAgICAgICAgICAgICAgIGlmICghZkNvbG9yICYmIHBsdWdpbi5wYXJ0aWNsZUZpbGxDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBmQ29sb3IgPSByYW5nZUNvbG9yVG9Ic2wocGx1Z2luLnBhcnRpY2xlRmlsbENvbG9yKHBhcnRpY2xlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc0NvbG9yICYmIHBsdWdpbi5wYXJ0aWNsZVN0cm9rZUNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNDb2xvciA9IHJhbmdlQ29sb3JUb0hzbChwbHVnaW4ucGFydGljbGVTdHJva2VDb2xvcihwYXJ0aWNsZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZkNvbG9yICYmIHNDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2ZDb2xvciwgc0NvbG9yXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdENvdmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIGNvdmVyID0gb3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5jb3ZlciwgY29sb3IgPSBjb3Zlci5jb2xvcjtcbiAgICAgICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyUmdiID0gcmFuZ2VDb2xvclRvUmdiKGNvbG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoY292ZXJSZ2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJDb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvdmVyUmdiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYTogY292ZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY292ZXJDb2xvclN0eWxlID0gZ2V0U3R5bGVGcm9tUmdiKGNvdmVyQ29sb3IsIGNvdmVyQ29sb3IuYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvdmVyLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvdmVySW1hZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBjb3Zlci5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2dC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gY292ZXIuaW1hZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2luaXRTdHlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsIG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2Z1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbFN0eWxlID0gZGVlcEV4dGVuZCh7fSwgZWxlbWVudC5zdHlsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RnVsbFNjcmVlblN0eWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldE9yaWdpbmFsU3R5bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtleSB8fCAhb3B0aW9ucy5zdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zLnN0eWxlW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdFRyYWlsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIHRyYWlsID0gb3B0aW9ucy5wYXJ0aWNsZXMubW92ZS50cmFpbCwgdHJhaWxGaWxsID0gdHJhaWwuZmlsbDtcbiAgICAgICAgICAgIGlmICghdHJhaWwuZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmFjdG9yTnVtZXJhdG9yID0gMSwgb3BhY2l0eSA9IGZhY3Rvck51bWVyYXRvciAvIHRyYWlsLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0cmFpbEZpbGwuY29sb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxsQ29sb3IgPSByYW5nZUNvbG9yVG9SZ2IodHJhaWxGaWxsLmNvbG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGxDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWlsRmlsbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbGxDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWlsRmlsbC5pbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFpbEZpbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2dC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdHJhaWxGaWxsLmltYWdlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wYWludEJhc2UgPSAoYmFzZUNvbG9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRyYXcoKGN0eCkgPT4gcGFpbnRCYXNlKGN0eCwgdGhpcy5zaXplLCBiYXNlQ29sb3IpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGFpbnRJbWFnZSA9IChpbWFnZSwgb3BhY2l0eSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmF3KChjdHgpID0+IHBhaW50SW1hZ2UoY3R4LCB0aGlzLnNpemUsIGltYWdlLCBvcGFjaXR5KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3JlcGFpclN0eWxlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NhZmVNdXRhdGlvbk9ic2VydmVyKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRTdHlsZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0QmFja2dyb3VuZCgpO1xuICAgICAgICAgICAgdGhpcy5fc2FmZU11dGF0aW9uT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3Jlc2V0T3JpZ2luYWxTdHlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsIG9yaWdpbmFsU3R5bGUgPSB0aGlzLl9vcmlnaW5hbFN0eWxlO1xuICAgICAgICAgICAgaWYgKCEoZWxlbWVudCAmJiBvcmlnaW5hbFN0eWxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFN0eWxlKGVsZW1lbnQsIG9yaWdpbmFsU3R5bGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zYWZlTXV0YXRpb25PYnNlcnZlciA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5fbXV0YXRpb25PYnNlcnZlcik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NldEZ1bGxTY3JlZW5TdHlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByYWRpeCA9IDEwO1xuICAgICAgICAgICAgc2V0U3R5bGUoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgICAgICAgekluZGV4OiB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zLmZ1bGxTY3JlZW4uekluZGV4LnRvU3RyaW5nKHJhZGl4KSxcbiAgICAgICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ByZURyYXdVcGRhdGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9wb3N0RHJhd1VwZGF0ZXJzID0gW107XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVBsdWdpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29sb3JQbHVnaW5zID0gW107XG4gICAgfVxuICAgIGdldCBfZnVsbFNjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnMuZnVsbFNjcmVlbi5lbmFibGU7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucywgdHJhaWwgPSBvcHRpb25zLnBhcnRpY2xlcy5tb3ZlLnRyYWlsLCB0cmFpbEZpbGwgPSB0aGlzLl90cmFpbEZpbGwsIG1pbmltdW1MZW5ndGggPSAwO1xuICAgICAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5lbmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFpbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFpbC5lbmFibGUgJiYgdHJhaWwubGVuZ3RoID4gbWluaW11bUxlbmd0aCAmJiB0cmFpbEZpbGwpIHtcbiAgICAgICAgICAgIGlmICh0cmFpbEZpbGwuY29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWludEJhc2UoZ2V0U3R5bGVGcm9tUmdiKHRyYWlsRmlsbC5jb2xvciwgdHJhaWxGaWxsLm9wYWNpdHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWlsRmlsbC5pbWFnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhaW50SW1hZ2UodHJhaWxGaWxsLmltYWdlLCB0cmFpbEZpbGwub3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5jbGVhcikge1xuICAgICAgICAgICAgdGhpcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhcihjdHgsIHRoaXMuc2l6ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgaWYgKHRoaXMuX2dlbmVyYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIGVsZW1lbnQ/LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzZXRPcmlnaW5hbFN0eWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJlRHJhd1VwZGF0ZXJzID0gW107XG4gICAgICAgIHRoaXMuX3Bvc3REcmF3VXBkYXRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVzaXplUGx1Z2lucyA9IFtdO1xuICAgICAgICB0aGlzLl9jb2xvclBsdWdpbnMgPSBbXTtcbiAgICB9XG4gICAgZHJhdyhjYikge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYihjdHgpO1xuICAgIH1cbiAgICBkcmF3QXN5bmMoY2IpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fY29udGV4dDtcbiAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2IoY3R4KTtcbiAgICB9XG4gICAgYXN5bmMgZHJhd1BhcnRpY2xlKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBpZiAocGFydGljbGUuc3Bhd25pbmcgfHwgcGFydGljbGUuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmFkaXVzID0gcGFydGljbGUuZ2V0UmFkaXVzKCksIG1pbmltdW1TaXplID0gMDtcbiAgICAgICAgaWYgKHJhZGl1cyA8PSBtaW5pbXVtU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBmQ29sb3IgPSBwYXJ0aWNsZS5nZXRGaWxsQ29sb3IoKSwgcHNDb2xvciA9IHBhcnRpY2xlLmdldFN0cm9rZUNvbG9yKCkgPz8gcGZDb2xvcjtcbiAgICAgICAgbGV0IFtmQ29sb3IsIHNDb2xvcl0gPSB0aGlzLl9nZXRQbHVnaW5QYXJ0aWNsZUNvbG9ycyhwYXJ0aWNsZSk7XG4gICAgICAgIGlmICghZkNvbG9yKSB7XG4gICAgICAgICAgICBmQ29sb3IgPSBwZkNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc0NvbG9yKSB7XG4gICAgICAgICAgICBzQ29sb3IgPSBwc0NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZkNvbG9yICYmICFzQ29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmRyYXdBc3luYyhhc3luYyAoY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCB6SW5kZXhPcHRpb25zID0gcGFydGljbGUub3B0aW9ucy56SW5kZXgsIHpJbmRleEZhY3Rvck9mZnNldCA9IDEsIHpJbmRleEZhY3RvciA9IHpJbmRleEZhY3Rvck9mZnNldCAtIHBhcnRpY2xlLnpJbmRleEZhY3Rvciwgek9wYWNpdHlGYWN0b3IgPSB6SW5kZXhGYWN0b3IgKiogekluZGV4T3B0aW9ucy5vcGFjaXR5UmF0ZSwgZGVmYXVsdE9wYWNpdHkgPSAxLCBvcGFjaXR5ID0gcGFydGljbGUuYnViYmxlLm9wYWNpdHkgPz8gcGFydGljbGUub3BhY2l0eT8udmFsdWUgPz8gZGVmYXVsdE9wYWNpdHksIHN0cm9rZU9wYWNpdHkgPSBwYXJ0aWNsZS5zdHJva2VPcGFjaXR5ID8/IG9wYWNpdHksIHpPcGFjaXR5ID0gb3BhY2l0eSAqIHpPcGFjaXR5RmFjdG9yLCB6U3Ryb2tlT3BhY2l0eSA9IHN0cm9rZU9wYWNpdHkgKiB6T3BhY2l0eUZhY3RvciwgdHJhbnNmb3JtID0ge30sIGNvbG9yU3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIGZpbGw6IGZDb2xvciA/IGdldFN0eWxlRnJvbUhzbChmQ29sb3IsIHpPcGFjaXR5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb2xvclN0eWxlcy5zdHJva2UgPSBzQ29sb3IgPyBnZXRTdHlsZUZyb21Ic2woc0NvbG9yLCB6U3Ryb2tlT3BhY2l0eSkgOiBjb2xvclN0eWxlcy5maWxsO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlQcmVEcmF3VXBkYXRlcnMoY3R4LCBwYXJ0aWNsZSwgcmFkaXVzLCB6T3BhY2l0eSwgY29sb3JTdHlsZXMsIHRyYW5zZm9ybSk7XG4gICAgICAgICAgICBhd2FpdCBkcmF3UGFydGljbGUoe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBjdHgsXG4gICAgICAgICAgICAgICAgcGFydGljbGUsXG4gICAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgICAgY29sb3JTdHlsZXMsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZE1hc2s6IG9wdGlvbnMuYmFja2dyb3VuZE1hc2suZW5hYmxlLFxuICAgICAgICAgICAgICAgIGNvbXBvc2l0ZTogb3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5jb21wb3NpdGUsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMgKiB6SW5kZXhGYWN0b3IgKiogekluZGV4T3B0aW9ucy5zaXplUmF0ZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB6T3BhY2l0eSxcbiAgICAgICAgICAgICAgICBzaGFkb3c6IHBhcnRpY2xlLm9wdGlvbnMuc2hhZG93LFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlQb3N0RHJhd1VwZGF0ZXJzKHBhcnRpY2xlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGRyYXdQYXJ0aWNsZVBsdWdpbihwbHVnaW4sIHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBhd2FpdCB0aGlzLmRyYXdBc3luYygoY3R4KSA9PiBkcmF3UGFydGljbGVQbHVnaW4oY3R4LCBwbHVnaW4sIHBhcnRpY2xlLCBkZWx0YSkpO1xuICAgIH1cbiAgICBhc3luYyBkcmF3UGx1Z2luKHBsdWdpbiwgZGVsdGEpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kcmF3QXN5bmMoKGN0eCkgPT4gZHJhd1BsdWdpbihjdHgsIHBsdWdpbiwgZGVsdGEpKTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fc2FmZU11dGF0aW9uT2JzZXJ2ZXIoKG9icykgPT4gb2JzLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIgPSBzYWZlTXV0YXRpb25PYnNlcnZlcigocmVjb3JkcykgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJhdHRyaWJ1dGVzXCIgJiYgcmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXBhaXJTdHlsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuX2luaXRTdHlsZSgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9pbml0Q292ZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2luaXRUcmFpbCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnZXRMb2dnZXIoKS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRCYWNrZ3JvdW5kKCk7XG4gICAgICAgIHRoaXMuX3NhZmVNdXRhdGlvbk9ic2VydmVyKChvYnMpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JzLm9ic2VydmUodGhpcy5lbGVtZW50LCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRVcGRhdGVycygpO1xuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKCk7XG4gICAgICAgIHRoaXMucGFpbnQoKTtcbiAgICB9XG4gICAgaW5pdEJhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kLCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kLmNvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHJhbmdlQ29sb3JUb1JnYihiYWNrZ3JvdW5kLmNvbG9yKTtcbiAgICAgICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciA/IGdldFN0eWxlRnJvbVJnYihjb2xvciwgYmFja2dyb3VuZC5vcGFjaXR5KSA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50U3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50U3R5bGUuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZC5pbWFnZSB8fCBcIlwiO1xuICAgICAgICBlbGVtZW50U3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gYmFja2dyb3VuZC5wb3NpdGlvbiB8fCBcIlwiO1xuICAgICAgICBlbGVtZW50U3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9IGJhY2tncm91bmQucmVwZWF0IHx8IFwiXCI7XG4gICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGJhY2tncm91bmQuc2l6ZSB8fCBcIlwiO1xuICAgIH1cbiAgICBpbml0UGx1Z2lucygpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplUGx1Z2lucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5jb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5yZXNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVQbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbHVnaW4ucGFydGljbGVGaWxsQ29sb3IgPz8gcGx1Z2luLnBhcnRpY2xlU3Ryb2tlQ29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xvclBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRVcGRhdGVycygpIHtcbiAgICAgICAgdGhpcy5fcHJlRHJhd1VwZGF0ZXJzID0gW107XG4gICAgICAgIHRoaXMuX3Bvc3REcmF3VXBkYXRlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB1cGRhdGVyIG9mIHRoaXMuY29udGFpbmVyLnBhcnRpY2xlcy51cGRhdGVycykge1xuICAgICAgICAgICAgaWYgKHVwZGF0ZXIuYWZ0ZXJEcmF3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zdERyYXdVcGRhdGVycy5wdXNoKHVwZGF0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZXIuZ2V0Q29sb3JTdHlsZXMgPz8gdXBkYXRlci5nZXRUcmFuc2Zvcm1WYWx1ZXMgPz8gdXBkYXRlci5iZWZvcmVEcmF3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJlRHJhd1VwZGF0ZXJzLnB1c2godXBkYXRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZENhbnZhcyhjYW52YXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dlbmVyYXRlZCAmJiB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9nZW5lcmF0ZWQgPVxuICAgICAgICAgICAgY2FudmFzLmRhdGFzZXQgJiYgZ2VuZXJhdGVkQXR0cmlidXRlIGluIGNhbnZhcy5kYXRhc2V0XG4gICAgICAgICAgICAgICAgPyBjYW52YXMuZGF0YXNldFtnZW5lcmF0ZWRBdHRyaWJ1dGVdID09PSBcInRydWVcIlxuICAgICAgICAgICAgICAgIDogdGhpcy5fZ2VuZXJhdGVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcmlhSGlkZGVuID0gXCJ0cnVlXCI7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3R5bGUgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLmVsZW1lbnQuc3R5bGUpO1xuICAgICAgICB0aGlzLnNpemUuaGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5zaXplLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gdGhpcy5lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgdGhpcy5fc2FmZU11dGF0aW9uT2JzZXJ2ZXIoKG9icykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYnMub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJldGluYS5pbml0KCk7XG4gICAgICAgIHRoaXMuaW5pdEJhY2tncm91bmQoKTtcbiAgICB9XG4gICAgcGFpbnQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICB0aGlzLmRyYXcoKGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZE1hc2suZW5hYmxlICYmIG9wdGlvbnMuYmFja2dyb3VuZE1hc2suY292ZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhcihjdHgsIHRoaXMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvdmVySW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFpbnRJbWFnZSh0aGlzLl9jb3ZlckltYWdlLmltYWdlLCB0aGlzLl9jb3ZlckltYWdlLm9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9jb3ZlckNvbG9yU3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFpbnRCYXNlKHRoaXMuX2NvdmVyQ29sb3JTdHlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWludEJhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWludEJhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgcHhSYXRpbyA9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbywgc2l6ZSA9IGNvbnRhaW5lci5jYW52YXMuc2l6ZSwgbmV3U2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggKiBweFJhdGlvLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogcHhSYXRpbyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5ld1NpemUuaGVpZ2h0ID09PSBzaXplLmhlaWdodCAmJlxuICAgICAgICAgICAgbmV3U2l6ZS53aWR0aCA9PT0gc2l6ZS53aWR0aCAmJlxuICAgICAgICAgICAgbmV3U2l6ZS5oZWlnaHQgPT09IHRoaXMuZWxlbWVudC5oZWlnaHQgJiZcbiAgICAgICAgICAgIG5ld1NpemUud2lkdGggPT09IHRoaXMuZWxlbWVudC53aWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFNpemUgPSB7IC4uLnNpemUgfTtcbiAgICAgICAgdGhpcy5lbGVtZW50LndpZHRoID0gc2l6ZS53aWR0aCA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIHB4UmF0aW87XG4gICAgICAgIHRoaXMuZWxlbWVudC5oZWlnaHQgPSBzaXplLmhlaWdodCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgKiBweFJhdGlvO1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3RhcnRlZCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5zZXRSZXNpemVGYWN0b3Ioe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoIC8gb2xkU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0IC8gb2xkU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5fc2FmZU11dGF0aW9uT2JzZXJ2ZXIoKG9icykgPT4gb2JzLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiBjbGVhcihjdHgsIHRoaXMuc2l6ZSkpO1xuICAgIH1cbiAgICBhc3luYyB3aW5kb3dSZXNpemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50IHx8ICF0aGlzLnJlc2l6ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG5lZWRzUmVmcmVzaCA9IGNvbnRhaW5lci51cGRhdGVBY3R1YWxPcHRpb25zKCk7XG4gICAgICAgIGF3YWl0IGNvbnRhaW5lci5wYXJ0aWNsZXMuc2V0RGVuc2l0eSgpO1xuICAgICAgICB0aGlzLl9hcHBseVJlc2l6ZVBsdWdpbnMoKTtcbiAgICAgICAgaWYgKG5lZWRzUmVmcmVzaCkge1xuICAgICAgICAgICAgYXdhaXQgY29udGFpbmVyLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJjbGVhciIsImRyYXdQYXJ0aWNsZSIsImRyYXdQYXJ0aWNsZVBsdWdpbiIsImRyYXdQbHVnaW4iLCJwYWludEJhc2UiLCJwYWludEltYWdlIiwiZGVlcEV4dGVuZCIsImdldExvZ2dlciIsInNhZmVNdXRhdGlvbk9ic2VydmVyIiwiZ2V0U3R5bGVGcm9tSHNsIiwiZ2V0U3R5bGVGcm9tUmdiIiwicmFuZ2VDb2xvclRvSHNsIiwicmFuZ2VDb2xvclRvUmdiIiwiZ2VuZXJhdGVkQXR0cmlidXRlIiwic2V0VHJhbnNmb3JtVmFsdWUiLCJmYWN0b3IiLCJuZXdGYWN0b3IiLCJrZXkiLCJuZXdWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsInVuZGVmaW5lZCIsInNldFN0eWxlIiwiY2FudmFzIiwic3R5bGUiLCJpbXBvcnRhbnQiLCJlbGVtZW50IiwiZWxlbWVudFN0eWxlIiwidmFsdWUiLCJzZXRQcm9wZXJ0eSIsIkNhbnZhcyIsIl9mdWxsU2NyZWVuIiwiY29udGFpbmVyIiwiYWN0dWFsT3B0aW9ucyIsImZ1bGxTY3JlZW4iLCJlbmFibGUiLCJvcHRpb25zIiwidHJhaWwiLCJwYXJ0aWNsZXMiLCJtb3ZlIiwidHJhaWxGaWxsIiwiX3RyYWlsRmlsbCIsIm1pbmltdW1MZW5ndGgiLCJiYWNrZ3JvdW5kTWFzayIsInBhaW50IiwibGVuZ3RoIiwiY29sb3IiLCJfcGFpbnRCYXNlIiwib3BhY2l0eSIsImltYWdlIiwiX3BhaW50SW1hZ2UiLCJkcmF3IiwiY3R4Iiwic2l6ZSIsImRlc3Ryb3kiLCJzdG9wIiwiX2dlbmVyYXRlZCIsInJlbW92ZSIsIl9yZXNldE9yaWdpbmFsU3R5bGUiLCJfcHJlRHJhd1VwZGF0ZXJzIiwiX3Bvc3REcmF3VXBkYXRlcnMiLCJfcmVzaXplUGx1Z2lucyIsIl9jb2xvclBsdWdpbnMiLCJjYiIsIl9jb250ZXh0IiwiZHJhd0FzeW5jIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwYXJ0aWNsZSIsImRlbHRhIiwic3Bhd25pbmciLCJkZXN0cm95ZWQiLCJyYWRpdXMiLCJnZXRSYWRpdXMiLCJtaW5pbXVtU2l6ZSIsInBmQ29sb3IiLCJnZXRGaWxsQ29sb3IiLCJwc0NvbG9yIiwiZ2V0U3Ryb2tlQ29sb3IiLCJmQ29sb3IiLCJzQ29sb3IiLCJfZ2V0UGx1Z2luUGFydGljbGVDb2xvcnMiLCJ6SW5kZXhPcHRpb25zIiwiekluZGV4IiwiekluZGV4RmFjdG9yT2Zmc2V0IiwiekluZGV4RmFjdG9yIiwiek9wYWNpdHlGYWN0b3IiLCJvcGFjaXR5UmF0ZSIsImRlZmF1bHRPcGFjaXR5IiwiYnViYmxlIiwic3Ryb2tlT3BhY2l0eSIsInpPcGFjaXR5IiwielN0cm9rZU9wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJjb2xvclN0eWxlcyIsImZpbGwiLCJzdHJva2UiLCJfYXBwbHlQcmVEcmF3VXBkYXRlcnMiLCJjb250ZXh0IiwiY29tcG9zaXRlIiwic2l6ZVJhdGUiLCJzaGFkb3ciLCJfYXBwbHlQb3N0RHJhd1VwZGF0ZXJzIiwicGx1Z2luIiwiaW5pdCIsIl9zYWZlTXV0YXRpb25PYnNlcnZlciIsIm9icyIsImRpc2Nvbm5lY3QiLCJfbXV0YXRpb25PYnNlcnZlciIsInJlY29yZHMiLCJyZWNvcmQiLCJ0eXBlIiwiYXR0cmlidXRlTmFtZSIsIl9yZXBhaXJTdHlsZSIsInJlc2l6ZSIsIl9pbml0U3R5bGUiLCJfaW5pdENvdmVyIiwiX2luaXRUcmFpbCIsImUiLCJlcnJvciIsImluaXRCYWNrZ3JvdW5kIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJpbml0VXBkYXRlcnMiLCJpbml0UGx1Z2lucyIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJwb3NpdGlvbiIsImJhY2tncm91bmRSZXBlYXQiLCJyZXBlYXQiLCJiYWNrZ3JvdW5kU2l6ZSIsInBsdWdpbnMiLCJwdXNoIiwicGFydGljbGVGaWxsQ29sb3IiLCJwYXJ0aWNsZVN0cm9rZUNvbG9yIiwidXBkYXRlciIsInVwZGF0ZXJzIiwiYWZ0ZXJEcmF3IiwiZ2V0Q29sb3JTdHlsZXMiLCJnZXRUcmFuc2Zvcm1WYWx1ZXMiLCJiZWZvcmVEcmF3IiwibG9hZENhbnZhcyIsImRhdGFzZXQiLCJhcmlhSGlkZGVuIiwiX29yaWdpbmFsU3R5bGUiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiZ2V0Q29udGV4dCIsInJldGluYSIsImNvdmVyIiwiX2NvdmVySW1hZ2UiLCJfY292ZXJDb2xvclN0eWxlIiwicHhSYXRpbyIsInBpeGVsUmF0aW8iLCJuZXdTaXplIiwib2xkU2l6ZSIsInN0YXJ0ZWQiLCJzZXRSZXNpemVGYWN0b3IiLCJ3aW5kb3dSZXNpemUiLCJuZWVkc1JlZnJlc2giLCJ1cGRhdGVBY3R1YWxPcHRpb25zIiwic2V0RGVuc2l0eSIsIl9hcHBseVJlc2l6ZVBsdWdpbnMiLCJyZWZyZXNoIiwiY29uc3RydWN0b3IiLCJ1cGRhdGVyVHJhbnNmb3JtIiwiY292ZXJSZ2IiLCJjb3ZlckNvbG9yIiwiYSIsInJlamVjdCIsImltZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJzcmMiLCJfc2V0RnVsbFNjcmVlblN0eWxlIiwiZmFjdG9yTnVtZXJhdG9yIiwiZmlsbENvbG9yIiwiYmFzZUNvbG9yIiwib2JzZXJ2ZXIiLCJvcmlnaW5hbFN0eWxlIiwiY2FsbGJhY2siLCJyYWRpeCIsInRvU3RyaW5nIiwidG9wIiwibGVmdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Canvas.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Container.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Container.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Container: function() { return /* binding */ Container; }\n/* harmony export */ });\n/* harmony import */ var _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/Constants.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Constants.js\");\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n/* harmony import */ var _Canvas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Canvas.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Canvas.js\");\n/* harmony import */ var _Utils_EventListeners_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils/EventListeners.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js\");\n/* harmony import */ var _Options_Classes_Options_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Options/Classes/Options.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Options/Classes/Options.js\");\n/* harmony import */ var _Particles_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Particles.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particles.js\");\n/* harmony import */ var _Retina_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Retina.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Retina.js\");\n/* harmony import */ var _Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Utils/NumberUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/NumberUtils.js\");\n/* harmony import */ var _Utils_OptionsUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Utils/OptionsUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/OptionsUtils.js\");\n\n\n\n\n\n\n\n\n\nfunction guardCheck(container) {\n    return container && !container.destroyed;\n}\nconst defaultFps = 60;\nfunction initDelta(value) {\n    let fpsLimit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : defaultFps, smooth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n    return {\n        value,\n        factor: smooth ? defaultFps / fpsLimit : defaultFps * value / _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.millisecondsToSeconds\n    };\n}\nfunction loadContainerOptions(engine, container) {\n    for(var _len = arguments.length, sourceOptionsArr = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++){\n        sourceOptionsArr[_key - 2] = arguments[_key];\n    }\n    const options = new _Options_Classes_Options_js__WEBPACK_IMPORTED_MODULE_4__.Options(engine, container);\n    (0,_Utils_OptionsUtils_js__WEBPACK_IMPORTED_MODULE_8__.loadOptions)(options, ...sourceOptionsArr);\n    return options;\n}\nclass Container {\n    get animationStatus() {\n        return !this._paused && !this.pageHidden && guardCheck(this);\n    }\n    get options() {\n        return this._options;\n    }\n    get sourceOptions() {\n        return this._sourceOptions;\n    }\n    addClickHandler(callback) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const el = this.interactivity.element;\n        if (!el) {\n            return;\n        }\n        const clickOrTouchHandler = (e, pos, radius)=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            const pxRatio = this.retina.pixelRatio, posRetina = {\n                x: pos.x * pxRatio,\n                y: pos.y * pxRatio\n            }, particles = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n            callback(e, particles);\n        };\n        const clickHandler = (e)=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            const mouseEvent = e, pos = {\n                x: mouseEvent.offsetX || mouseEvent.clientX,\n                y: mouseEvent.offsetY || mouseEvent.clientY\n            }, radius = 1;\n            clickOrTouchHandler(e, pos, radius);\n        };\n        const touchStartHandler = ()=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = true;\n            touchMoved = false;\n        };\n        const touchMoveHandler = ()=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            touchMoved = true;\n        };\n        const touchEndHandler = (e)=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            if (touched && !touchMoved) {\n                const touchEvent = e;\n                const lengthOffset = 1;\n                let lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset];\n                if (!lastTouch) {\n                    lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - lengthOffset];\n                    if (!lastTouch) {\n                        return;\n                    }\n                }\n                const element = this.canvas.element, canvasRect = element ? element.getBoundingClientRect() : undefined, minCoordinate = 0, pos = {\n                    x: lastTouch.clientX - (canvasRect ? canvasRect.left : minCoordinate),\n                    y: lastTouch.clientY - (canvasRect ? canvasRect.top : minCoordinate)\n                };\n                clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        const touchCancelHandler = ()=>{\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        let touched = false, touchMoved = false;\n        el.addEventListener(\"click\", clickHandler);\n        el.addEventListener(\"touchstart\", touchStartHandler);\n        el.addEventListener(\"touchmove\", touchMoveHandler);\n        el.addEventListener(\"touchend\", touchEndHandler);\n        el.addEventListener(\"touchcancel\", touchCancelHandler);\n    }\n    addLifeTime(value) {\n        this._lifeTime += value;\n    }\n    addPath(key, generator) {\n        let override = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        if (!guardCheck(this) || !override && this.pathGenerators.has(key)) {\n            return false;\n        }\n        this.pathGenerators.set(key, generator);\n        return true;\n    }\n    alive() {\n        return !this._duration || this._lifeTime <= this._duration;\n    }\n    destroy() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        this.particles.destroy();\n        this.canvas.destroy();\n        for (const [, effectDrawer] of this.effectDrawers){\n            var _effectDrawer_destroy;\n            (_effectDrawer_destroy = effectDrawer.destroy) === null || _effectDrawer_destroy === void 0 ? void 0 : _effectDrawer_destroy.call(effectDrawer, this);\n        }\n        for (const [, shapeDrawer] of this.shapeDrawers){\n            var _shapeDrawer_destroy;\n            (_shapeDrawer_destroy = shapeDrawer.destroy) === null || _shapeDrawer_destroy === void 0 ? void 0 : _shapeDrawer_destroy.call(shapeDrawer, this);\n        }\n        for (const key of this.effectDrawers.keys()){\n            this.effectDrawers.delete(key);\n        }\n        for (const key of this.shapeDrawers.keys()){\n            this.shapeDrawers.delete(key);\n        }\n        this._engine.clearPlugins(this);\n        this.destroyed = true;\n        const mainArr = this._engine.dom(), idx = mainArr.findIndex((t)=>t === this), minIndex = 0;\n        if (idx >= minIndex) {\n            const deleteCount = 1;\n            mainArr.splice(idx, deleteCount);\n        }\n        this._engine.dispatchEvent(\"containerDestroyed\", {\n            container: this\n        });\n    }\n    draw(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        let refreshTime = force;\n        const frame = async (timestamp)=>{\n            if (refreshTime) {\n                this._lastFrameTime = undefined;\n                refreshTime = false;\n            }\n            await this._nextFrame(timestamp);\n        };\n        this._drawAnimationFrame = requestAnimationFrame((timestamp)=>void frame(timestamp));\n    }\n    async export(type) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        for (const [, plugin] of this.plugins){\n            if (!plugin.export) {\n                continue;\n            }\n            const res = await plugin.export(type, options);\n            if (!res.supported) {\n                continue;\n            }\n            return res.blob;\n        }\n        (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.getLogger)().error(\"\".concat(_Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.errorPrefix, \" - Export plugin with type \").concat(type, \" not found\"));\n    }\n    handleClickMode(mode) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.particles.handleClickMode(mode);\n        for (const [, plugin] of this.plugins){\n            var _plugin_handleClickMode;\n            (_plugin_handleClickMode = plugin.handleClickMode) === null || _plugin_handleClickMode === void 0 ? void 0 : _plugin_handleClickMode.call(plugin, mode);\n        }\n    }\n    async init() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const effects = this._engine.getSupportedEffects();\n        for (const type of effects){\n            const drawer = this._engine.getEffectDrawer(type);\n            if (drawer) {\n                this.effectDrawers.set(type, drawer);\n            }\n        }\n        const shapes = this._engine.getSupportedShapes();\n        for (const type of shapes){\n            const drawer = this._engine.getShapeDrawer(type);\n            if (drawer) {\n                this.shapeDrawers.set(type, drawer);\n            }\n        }\n        await this.particles.initPlugins();\n        this._options = loadContainerOptions(this._engine, this, this._initialSourceOptions, this.sourceOptions);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        const availablePlugins = await this._engine.getAvailablePlugins(this);\n        for (const [id, plugin] of availablePlugins){\n            this.plugins.set(id, plugin);\n        }\n        this.retina.init();\n        await this.canvas.init();\n        this.updateActualOptions();\n        this.canvas.initBackground();\n        this.canvas.resize();\n        this.zLayers = this.actualOptions.zLayers;\n        this._duration = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_7__.getRangeValue)(this.actualOptions.duration) * _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.millisecondsToSeconds;\n        this._delay = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_7__.getRangeValue)(this.actualOptions.delay) * _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.millisecondsToSeconds;\n        this._lifeTime = 0;\n        const defaultFpsLimit = 120, minFpsLimit = 0;\n        this.fpsLimit = this.actualOptions.fpsLimit > minFpsLimit ? this.actualOptions.fpsLimit : defaultFpsLimit;\n        this._smooth = this.actualOptions.smooth;\n        for (const [, drawer] of this.effectDrawers){\n            var _drawer_init;\n            await ((_drawer_init = drawer.init) === null || _drawer_init === void 0 ? void 0 : _drawer_init.call(drawer, this));\n        }\n        for (const [, drawer] of this.shapeDrawers){\n            var _drawer_init1;\n            await ((_drawer_init1 = drawer.init) === null || _drawer_init1 === void 0 ? void 0 : _drawer_init1.call(drawer, this));\n        }\n        for (const [, plugin] of this.plugins){\n            var _plugin_init;\n            await ((_plugin_init = plugin.init) === null || _plugin_init === void 0 ? void 0 : _plugin_init.call(plugin));\n        }\n        this._engine.dispatchEvent(\"containerInit\", {\n            container: this\n        });\n        await this.particles.init();\n        await this.particles.setDensity();\n        for (const [, plugin] of this.plugins){\n            var _plugin_particlesSetup;\n            (_plugin_particlesSetup = plugin.particlesSetup) === null || _plugin_particlesSetup === void 0 ? void 0 : _plugin_particlesSetup.call(plugin);\n        }\n        this._engine.dispatchEvent(\"particlesSetup\", {\n            container: this\n        });\n    }\n    async loadTheme(name) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._currentTheme = name;\n        await this.refresh();\n    }\n    pause() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        if (this._drawAnimationFrame !== undefined) {\n            cancelAnimationFrame(this._drawAnimationFrame);\n            delete this._drawAnimationFrame;\n        }\n        if (this._paused) {\n            return;\n        }\n        for (const [, plugin] of this.plugins){\n            var _plugin_pause;\n            (_plugin_pause = plugin.pause) === null || _plugin_pause === void 0 ? void 0 : _plugin_pause.call(plugin);\n        }\n        if (!this.pageHidden) {\n            this._paused = true;\n        }\n        this._engine.dispatchEvent(\"containerPaused\", {\n            container: this\n        });\n    }\n    play(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const needsUpdate = this._paused || force;\n        if (this._firstStart && !this.actualOptions.autoPlay) {\n            this._firstStart = false;\n            return;\n        }\n        if (this._paused) {\n            this._paused = false;\n        }\n        if (needsUpdate) {\n            for (const [, plugin] of this.plugins){\n                if (plugin.play) {\n                    plugin.play();\n                }\n            }\n        }\n        this._engine.dispatchEvent(\"containerPlay\", {\n            container: this\n        });\n        this.draw(needsUpdate !== null && needsUpdate !== void 0 ? needsUpdate : false);\n    }\n    async refresh() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        return this.start();\n    }\n    async reset() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._initialSourceOptions = undefined;\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        return this.refresh();\n    }\n    async start() {\n        if (!guardCheck(this) || this.started) {\n            return;\n        }\n        await this.init();\n        this.started = true;\n        await new Promise((resolve)=>{\n            const start = async ()=>{\n                this._eventListeners.addListeners();\n                if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n                    this._intersectionObserver.observe(this.interactivity.element);\n                }\n                for (const [, plugin] of this.plugins){\n                    var _plugin_start;\n                    await ((_plugin_start = plugin.start) === null || _plugin_start === void 0 ? void 0 : _plugin_start.call(plugin));\n                }\n                this._engine.dispatchEvent(\"containerStarted\", {\n                    container: this\n                });\n                this.play();\n                resolve();\n            };\n            this._delayTimeout = setTimeout(()=>void start(), this._delay);\n        });\n    }\n    stop() {\n        if (!guardCheck(this) || !this.started) {\n            return;\n        }\n        if (this._delayTimeout) {\n            clearTimeout(this._delayTimeout);\n            delete this._delayTimeout;\n        }\n        this._firstStart = true;\n        this.started = false;\n        this._eventListeners.removeListeners();\n        this.pause();\n        this.particles.clear();\n        this.canvas.stop();\n        if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n            this._intersectionObserver.unobserve(this.interactivity.element);\n        }\n        for (const [, plugin] of this.plugins){\n            var _plugin_stop;\n            (_plugin_stop = plugin.stop) === null || _plugin_stop === void 0 ? void 0 : _plugin_stop.call(plugin);\n        }\n        for (const key of this.plugins.keys()){\n            this.plugins.delete(key);\n        }\n        this._sourceOptions = this._options;\n        this._engine.dispatchEvent(\"containerStopped\", {\n            container: this\n        });\n    }\n    updateActualOptions() {\n        this.actualOptions.responsive = [];\n        const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n        this.actualOptions.setTheme(this._currentTheme);\n        if (this._responsiveMaxWidth === newMaxWidth) {\n            return false;\n        }\n        this._responsiveMaxWidth = newMaxWidth;\n        return true;\n    }\n    constructor(engine, id, sourceOptions){\n        this._intersectionManager = (entries)=>{\n            if (!guardCheck(this) || !this.actualOptions.pauseOnOutsideViewport) {\n                return;\n            }\n            for (const entry of entries){\n                if (entry.target !== this.interactivity.element) {\n                    continue;\n                }\n                if (entry.isIntersecting) {\n                    void this.play();\n                } else {\n                    this.pause();\n                }\n            }\n        };\n        this._nextFrame = async (timestamp)=>{\n            try {\n                if (!this._smooth && this._lastFrameTime !== undefined && timestamp < this._lastFrameTime + _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.millisecondsToSeconds / this.fpsLimit) {\n                    this.draw(false);\n                    return;\n                }\n                var _this__lastFrameTime;\n                (_this__lastFrameTime = this._lastFrameTime) !== null && _this__lastFrameTime !== void 0 ? _this__lastFrameTime : this._lastFrameTime = timestamp;\n                const delta = initDelta(timestamp - this._lastFrameTime, this.fpsLimit, this._smooth);\n                this.addLifeTime(delta.value);\n                this._lastFrameTime = timestamp;\n                if (delta.value > _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.millisecondsToSeconds) {\n                    this.draw(false);\n                    return;\n                }\n                await this.particles.draw(delta);\n                if (!this.alive()) {\n                    this.destroy();\n                    return;\n                }\n                if (this.animationStatus) {\n                    this.draw(false);\n                }\n            } catch (e) {\n                (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.getLogger)().error(\"\".concat(_Utils_Constants_js__WEBPACK_IMPORTED_MODULE_0__.errorPrefix, \" in animation loop\"), e);\n            }\n        };\n        this._engine = engine;\n        this.id = Symbol(id);\n        this.fpsLimit = 120;\n        this._smooth = false;\n        this._delay = 0;\n        this._duration = 0;\n        this._lifeTime = 0;\n        this._firstStart = true;\n        this.started = false;\n        this.destroyed = false;\n        this._paused = true;\n        this._lastFrameTime = 0;\n        this.zLayers = 100;\n        this.pageHidden = false;\n        this._sourceOptions = sourceOptions;\n        this._initialSourceOptions = sourceOptions;\n        this.retina = new _Retina_js__WEBPACK_IMPORTED_MODULE_6__.Retina(this);\n        this.canvas = new _Canvas_js__WEBPACK_IMPORTED_MODULE_2__.Canvas(this);\n        this.particles = new _Particles_js__WEBPACK_IMPORTED_MODULE_5__.Particles(this._engine, this);\n        this.pathGenerators = new Map();\n        this.interactivity = {\n            mouse: {\n                clicking: false,\n                inside: false\n            }\n        };\n        this.plugins = new Map();\n        this.effectDrawers = new Map();\n        this.shapeDrawers = new Map();\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this);\n        this._eventListeners = new _Utils_EventListeners_js__WEBPACK_IMPORTED_MODULE_3__.EventListeners(this);\n        this._intersectionObserver = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.safeIntersectionObserver)((entries)=>this._intersectionManager(entries));\n        this._engine.dispatchEvent(\"containerBuilt\", {\n            container: this\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9Db250YWluZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwRTtBQUNGO0FBQ25DO0FBQ3NCO0FBQ0g7QUFDYjtBQUNOO0FBQ21CO0FBQ0Q7QUFDdkQsU0FBU1csV0FBV0MsU0FBUztJQUN6QixPQUFPQSxhQUFhLENBQUNBLFVBQVVDLFNBQVM7QUFDNUM7QUFDQSxNQUFNQyxhQUFhO0FBQ25CLFNBQVNDLFVBQVVDLEtBQUs7UUFBRUMsV0FBQUEsaUVBQVdILFlBQVlJLFNBQUFBLGlFQUFTO0lBQ3RELE9BQU87UUFDSEY7UUFDQUcsUUFBUUQsU0FBU0osYUFBYUcsV0FBVyxhQUFjRCxRQUFTZixzRUFBcUJBO0lBQ3pGO0FBQ0o7QUFDQSxTQUFTbUIscUJBQXFCQyxNQUFNLEVBQUVULFNBQVM7SUFBRTtRQUFHVSxpQkFBSCwyQkFBbUI7O0lBQ2hFLE1BQU1DLFVBQVUsSUFBSWpCLGdFQUFPQSxDQUFDZSxRQUFRVDtJQUNwQ0YsbUVBQVdBLENBQUNhLFlBQVlEO0lBQ3hCLE9BQU9DO0FBQ1g7QUFDTyxNQUFNQztJQWtGVCxJQUFJQyxrQkFBa0I7UUFDbEIsT0FBTyxDQUFDLElBQUksQ0FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDQyxVQUFVLElBQUloQixXQUFXLElBQUk7SUFDL0Q7SUFDQSxJQUFJWSxVQUFVO1FBQ1YsT0FBTyxJQUFJLENBQUNLLFFBQVE7SUFDeEI7SUFDQSxJQUFJQyxnQkFBZ0I7UUFDaEIsT0FBTyxJQUFJLENBQUNDLGNBQWM7SUFDOUI7SUFDQUMsZ0JBQWdCQyxRQUFRLEVBQUU7UUFDdEIsSUFBSSxDQUFDckIsV0FBVyxJQUFJLEdBQUc7WUFDbkI7UUFDSjtRQUNBLE1BQU1zQixLQUFLLElBQUksQ0FBQ0MsYUFBYSxDQUFDQyxPQUFPO1FBQ3JDLElBQUksQ0FBQ0YsSUFBSTtZQUNMO1FBQ0o7UUFDQSxN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QUFFaEcsV0FBVyxJQUFJO1FBQUM7SUFDbkU7QUFxVkoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9lbmdpbmUvYnJvd3Nlci9Db3JlL0NvbnRhaW5lci5qcz8yZDMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9yUHJlZml4LCBtaWxsaXNlY29uZHNUb1NlY29uZHMgfSBmcm9tIFwiLi9VdGlscy9Db25zdGFudHMuanNcIjtcbmltcG9ydCB7IGdldExvZ2dlciwgc2FmZUludGVyc2VjdGlvbk9ic2VydmVyIH0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tIFwiLi9DYW52YXMuanNcIjtcbmltcG9ydCB7IEV2ZW50TGlzdGVuZXJzIH0gZnJvbSBcIi4vVXRpbHMvRXZlbnRMaXN0ZW5lcnMuanNcIjtcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tIFwiLi4vT3B0aW9ucy9DbGFzc2VzL09wdGlvbnMuanNcIjtcbmltcG9ydCB7IFBhcnRpY2xlcyB9IGZyb20gXCIuL1BhcnRpY2xlcy5qc1wiO1xuaW1wb3J0IHsgUmV0aW5hIH0gZnJvbSBcIi4vUmV0aW5hLmpzXCI7XG5pbXBvcnQgeyBnZXRSYW5nZVZhbHVlIH0gZnJvbSBcIi4uL1V0aWxzL051bWJlclV0aWxzLmpzXCI7XG5pbXBvcnQgeyBsb2FkT3B0aW9ucyB9IGZyb20gXCIuLi9VdGlscy9PcHRpb25zVXRpbHMuanNcIjtcbmZ1bmN0aW9uIGd1YXJkQ2hlY2soY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lciAmJiAhY29udGFpbmVyLmRlc3Ryb3llZDtcbn1cbmNvbnN0IGRlZmF1bHRGcHMgPSA2MDtcbmZ1bmN0aW9uIGluaXREZWx0YSh2YWx1ZSwgZnBzTGltaXQgPSBkZWZhdWx0RnBzLCBzbW9vdGggPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBmYWN0b3I6IHNtb290aCA/IGRlZmF1bHRGcHMgLyBmcHNMaW1pdCA6IChkZWZhdWx0RnBzICogdmFsdWUpIC8gbWlsbGlzZWNvbmRzVG9TZWNvbmRzLFxuICAgIH07XG59XG5mdW5jdGlvbiBsb2FkQ29udGFpbmVyT3B0aW9ucyhlbmdpbmUsIGNvbnRhaW5lciwgLi4uc291cmNlT3B0aW9uc0Fycikge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgT3B0aW9ucyhlbmdpbmUsIGNvbnRhaW5lcik7XG4gICAgbG9hZE9wdGlvbnMob3B0aW9ucywgLi4uc291cmNlT3B0aW9uc0Fycik7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5leHBvcnQgY2xhc3MgQ29udGFpbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIGlkLCBzb3VyY2VPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk1hbmFnZXIgPSAoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpIHx8ICF0aGlzLmFjdHVhbE9wdGlvbnMucGF1c2VPbk91dHNpZGVWaWV3cG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX25leHRGcmFtZSA9IGFzeW5jICh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zbW9vdGggJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lVGltZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA8IHRoaXMuX2xhc3RGcmFtZVRpbWUgKyBtaWxsaXNlY29uZHNUb1NlY29uZHMgLyB0aGlzLmZwc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lVGltZSA/Pz0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gaW5pdERlbHRhKHRpbWVzdGFtcCAtIHRoaXMuX2xhc3RGcmFtZVRpbWUsIHRoaXMuZnBzTGltaXQsIHRoaXMuX3Ntb290aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaWZlVGltZShkZWx0YS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lVGltZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEudmFsdWUgPiBtaWxsaXNlY29uZHNUb1NlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnRpY2xlcy5kcmF3KGRlbHRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxpdmUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGdldExvZ2dlcigpLmVycm9yKGAke2Vycm9yUHJlZml4fSBpbiBhbmltYXRpb24gbG9vcGAsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuaWQgPSBTeW1ib2woaWQpO1xuICAgICAgICB0aGlzLmZwc0xpbWl0ID0gMTIwO1xuICAgICAgICB0aGlzLl9zbW9vdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGVsYXkgPSAwO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuX2xpZmVUaW1lID0gMDtcbiAgICAgICAgdGhpcy5fZmlyc3RTdGFydCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWVUaW1lID0gMDtcbiAgICAgICAgdGhpcy56TGF5ZXJzID0gMTAwO1xuICAgICAgICB0aGlzLnBhZ2VIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc291cmNlT3B0aW9ucyA9IHNvdXJjZU9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2luaXRpYWxTb3VyY2VPcHRpb25zID0gc291cmNlT3B0aW9ucztcbiAgICAgICAgdGhpcy5yZXRpbmEgPSBuZXcgUmV0aW5hKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXModGhpcyk7XG4gICAgICAgIHRoaXMucGFydGljbGVzID0gbmV3IFBhcnRpY2xlcyh0aGlzLl9lbmdpbmUsIHRoaXMpO1xuICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3JzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZpdHkgPSB7XG4gICAgICAgICAgICBtb3VzZToge1xuICAgICAgICAgICAgICAgIGNsaWNraW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbnNpZGU6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmVmZmVjdERyYXdlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc2hhcGVEcmF3ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gbG9hZENvbnRhaW5lck9wdGlvbnModGhpcy5fZW5naW5lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hY3R1YWxPcHRpb25zID0gbG9hZENvbnRhaW5lck9wdGlvbnModGhpcy5fZW5naW5lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMgPSBuZXcgRXZlbnRMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyID0gc2FmZUludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB0aGlzLl9pbnRlcnNlY3Rpb25NYW5hZ2VyKGVudHJpZXMpKTtcbiAgICAgICAgdGhpcy5fZW5naW5lLmRpc3BhdGNoRXZlbnQoXCJjb250YWluZXJCdWlsdFwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvblN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXVzZWQgJiYgIXRoaXMucGFnZUhpZGRlbiAmJiBndWFyZENoZWNrKHRoaXMpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuICAgIGdldCBzb3VyY2VPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlT3B0aW9ucztcbiAgICB9XG4gICAgYWRkQ2xpY2tIYW5kbGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5pbnRlcmFjdGl2aXR5LmVsZW1lbnQ7XG4gICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGlja09yVG91Y2hIYW5kbGVyID0gKGUsIHBvcywgcmFkaXVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBweFJhdGlvID0gdGhpcy5yZXRpbmEucGl4ZWxSYXRpbywgcG9zUmV0aW5hID0ge1xuICAgICAgICAgICAgICAgIHg6IHBvcy54ICogcHhSYXRpbyxcbiAgICAgICAgICAgICAgICB5OiBwb3MueSAqIHB4UmF0aW8sXG4gICAgICAgICAgICB9LCBwYXJ0aWNsZXMgPSB0aGlzLnBhcnRpY2xlcy5xdWFkVHJlZS5xdWVyeUNpcmNsZShwb3NSZXRpbmEsIHJhZGl1cyAqIHB4UmF0aW8pO1xuICAgICAgICAgICAgY2FsbGJhY2soZSwgcGFydGljbGVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdXNlRXZlbnQgPSBlLCBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogbW91c2VFdmVudC5vZmZzZXRYIHx8IG1vdXNlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5OiBtb3VzZUV2ZW50Lm9mZnNldFkgfHwgbW91c2VFdmVudC5jbGllbnRZLFxuICAgICAgICAgICAgfSwgcmFkaXVzID0gMTtcbiAgICAgICAgICAgIGNsaWNrT3JUb3VjaEhhbmRsZXIoZSwgcG9zLCByYWRpdXMpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0b3VjaFN0YXJ0SGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdG91Y2hNb3ZlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0b3VjaE1vdmVIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG91Y2hNb3ZlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRvdWNoRW5kSGFuZGxlciA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG91Y2hlZCAmJiAhdG91Y2hNb3ZlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aE9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RUb3VjaCA9IHRvdWNoRXZlbnQudG91Y2hlc1t0b3VjaEV2ZW50LnRvdWNoZXMubGVuZ3RoIC0gbGVuZ3RoT2Zmc2V0XTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG91Y2ggPSB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzW3RvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoIC0gbGVuZ3RoT2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXN0VG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jYW52YXMuZWxlbWVudCwgY2FudmFzUmVjdCA9IGVsZW1lbnQgPyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogdW5kZWZpbmVkLCBtaW5Db29yZGluYXRlID0gMCwgcG9zID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBsYXN0VG91Y2guY2xpZW50WCAtIChjYW52YXNSZWN0ID8gY2FudmFzUmVjdC5sZWZ0IDogbWluQ29vcmRpbmF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHk6IGxhc3RUb3VjaC5jbGllbnRZIC0gKGNhbnZhc1JlY3QgPyBjYW52YXNSZWN0LnRvcCA6IG1pbkNvb3JkaW5hdGUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2xpY2tPclRvdWNoSGFuZGxlcihlLCBwb3MsIE1hdGgubWF4KGxhc3RUb3VjaC5yYWRpdXNYLCBsYXN0VG91Y2gucmFkaXVzWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdG91Y2hNb3ZlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0b3VjaENhbmNlbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3VjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0b3VjaE1vdmVkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGxldCB0b3VjaGVkID0gZmFsc2UsIHRvdWNoTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRvdWNoU3RhcnRIYW5kbGVyKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0b3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRvdWNoRW5kSGFuZGxlcik7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCB0b3VjaENhbmNlbEhhbmRsZXIpO1xuICAgIH1cbiAgICBhZGRMaWZlVGltZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9saWZlVGltZSArPSB2YWx1ZTtcbiAgICB9XG4gICAgYWRkUGF0aChrZXksIGdlbmVyYXRvciwgb3ZlcnJpZGUgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykgfHwgKCFvdmVycmlkZSAmJiB0aGlzLnBhdGhHZW5lcmF0b3JzLmhhcyhrZXkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0aEdlbmVyYXRvcnMuc2V0KGtleSwgZ2VuZXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFsaXZlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2R1cmF0aW9uIHx8IHRoaXMuX2xpZmVUaW1lIDw9IHRoaXMuX2R1cmF0aW9uO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5kZXN0cm95KCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgZWZmZWN0RHJhd2VyXSBvZiB0aGlzLmVmZmVjdERyYXdlcnMpIHtcbiAgICAgICAgICAgIGVmZmVjdERyYXdlci5kZXN0cm95Py4odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbLCBzaGFwZURyYXdlcl0gb2YgdGhpcy5zaGFwZURyYXdlcnMpIHtcbiAgICAgICAgICAgIHNoYXBlRHJhd2VyLmRlc3Ryb3k/Lih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLmVmZmVjdERyYXdlcnMua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLmVmZmVjdERyYXdlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5zaGFwZURyYXdlcnMua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlRHJhd2Vycy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbmdpbmUuY2xlYXJQbHVnaW5zKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG1haW5BcnIgPSB0aGlzLl9lbmdpbmUuZG9tKCksIGlkeCA9IG1haW5BcnIuZmluZEluZGV4KCh0KSA9PiB0ID09PSB0aGlzKSwgbWluSW5kZXggPSAwO1xuICAgICAgICBpZiAoaWR4ID49IG1pbkluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVDb3VudCA9IDE7XG4gICAgICAgICAgICBtYWluQXJyLnNwbGljZShpZHgsIGRlbGV0ZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbmdpbmUuZGlzcGF0Y2hFdmVudChcImNvbnRhaW5lckRlc3Ryb3llZFwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICB9XG4gICAgZHJhdyhmb3JjZSkge1xuICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVmcmVzaFRpbWUgPSBmb3JjZTtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBhc3luYyAodGltZXN0YW1wKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVmcmVzaFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWVUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9uZXh0RnJhbWUodGltZXN0YW1wKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZHJhd0FuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHZvaWQgZnJhbWUodGltZXN0YW1wKSk7XG4gICAgfVxuICAgIGFzeW5jIGV4cG9ydCh0eXBlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKCFwbHVnaW4uZXhwb3J0KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBwbHVnaW4uZXhwb3J0KHR5cGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFyZXMuc3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmJsb2I7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0TG9nZ2VyKCkuZXJyb3IoYCR7ZXJyb3JQcmVmaXh9IC0gRXhwb3J0IHBsdWdpbiB3aXRoIHR5cGUgJHt0eXBlfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgaGFuZGxlQ2xpY2tNb2RlKG1vZGUpIHtcbiAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuaGFuZGxlQ2xpY2tNb2RlKG1vZGUpO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2tNb2RlPy4obW9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWZmZWN0cyA9IHRoaXMuX2VuZ2luZS5nZXRTdXBwb3J0ZWRFZmZlY3RzKCk7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBjb25zdCBkcmF3ZXIgPSB0aGlzLl9lbmdpbmUuZ2V0RWZmZWN0RHJhd2VyKHR5cGUpO1xuICAgICAgICAgICAgaWYgKGRyYXdlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0RHJhd2Vycy5zZXQodHlwZSwgZHJhd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaGFwZXMgPSB0aGlzLl9lbmdpbmUuZ2V0U3VwcG9ydGVkU2hhcGVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBzaGFwZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyYXdlciA9IHRoaXMuX2VuZ2luZS5nZXRTaGFwZURyYXdlcih0eXBlKTtcbiAgICAgICAgICAgIGlmIChkcmF3ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlRHJhd2Vycy5zZXQodHlwZSwgZHJhd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnBhcnRpY2xlcy5pbml0UGx1Z2lucygpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gbG9hZENvbnRhaW5lck9wdGlvbnModGhpcy5fZW5naW5lLCB0aGlzLCB0aGlzLl9pbml0aWFsU291cmNlT3B0aW9ucywgdGhpcy5zb3VyY2VPcHRpb25zKTtcbiAgICAgICAgdGhpcy5hY3R1YWxPcHRpb25zID0gbG9hZENvbnRhaW5lck9wdGlvbnModGhpcy5fZW5naW5lLCB0aGlzLCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlUGx1Z2lucyA9IGF3YWl0IHRoaXMuX2VuZ2luZS5nZXRBdmFpbGFibGVQbHVnaW5zKHRoaXMpO1xuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcGx1Z2luXSBvZiBhdmFpbGFibGVQbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuc2V0KGlkLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV0aW5hLmluaXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jYW52YXMuaW5pdCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFjdHVhbE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaW5pdEJhY2tncm91bmQoKTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuekxheWVycyA9IHRoaXMuYWN0dWFsT3B0aW9ucy56TGF5ZXJzO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGdldFJhbmdlVmFsdWUodGhpcy5hY3R1YWxPcHRpb25zLmR1cmF0aW9uKSAqIG1pbGxpc2Vjb25kc1RvU2Vjb25kcztcbiAgICAgICAgdGhpcy5fZGVsYXkgPSBnZXRSYW5nZVZhbHVlKHRoaXMuYWN0dWFsT3B0aW9ucy5kZWxheSkgKiBtaWxsaXNlY29uZHNUb1NlY29uZHM7XG4gICAgICAgIHRoaXMuX2xpZmVUaW1lID0gMDtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZwc0xpbWl0ID0gMTIwLCBtaW5GcHNMaW1pdCA9IDA7XG4gICAgICAgIHRoaXMuZnBzTGltaXQgPSB0aGlzLmFjdHVhbE9wdGlvbnMuZnBzTGltaXQgPiBtaW5GcHNMaW1pdCA/IHRoaXMuYWN0dWFsT3B0aW9ucy5mcHNMaW1pdCA6IGRlZmF1bHRGcHNMaW1pdDtcbiAgICAgICAgdGhpcy5fc21vb3RoID0gdGhpcy5hY3R1YWxPcHRpb25zLnNtb290aDtcbiAgICAgICAgZm9yIChjb25zdCBbLCBkcmF3ZXJdIG9mIHRoaXMuZWZmZWN0RHJhd2Vycykge1xuICAgICAgICAgICAgYXdhaXQgZHJhd2VyLmluaXQ/Lih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIGRyYXdlcl0gb2YgdGhpcy5zaGFwZURyYXdlcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IGRyYXdlci5pbml0Py4odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgYXdhaXQgcGx1Z2luLmluaXQ/LigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwiY29udGFpbmVySW5pdFwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXJ0aWNsZXMuaW5pdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLnBhcnRpY2xlcy5zZXREZW5zaXR5KCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHBsdWdpbi5wYXJ0aWNsZXNTZXR1cD8uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW5naW5lLmRpc3BhdGNoRXZlbnQoXCJwYXJ0aWNsZXNTZXR1cFwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICB9XG4gICAgYXN5bmMgbG9hZFRoZW1lKG5hbWUpIHtcbiAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudFRoZW1lID0gbmFtZTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZHJhd0FuaW1hdGlvbkZyYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXdBbmltYXRpb25GcmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZHJhd0FuaW1hdGlvbkZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBwbHVnaW4ucGF1c2U/LigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5wYWdlSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwiY29udGFpbmVyUGF1c2VkXCIsIHsgY29udGFpbmVyOiB0aGlzIH0pO1xuICAgIH1cbiAgICBwbGF5KGZvcmNlKSB7XG4gICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5lZWRzVXBkYXRlID0gdGhpcy5fcGF1c2VkIHx8IGZvcmNlO1xuICAgICAgICBpZiAodGhpcy5fZmlyc3RTdGFydCAmJiAhdGhpcy5hY3R1YWxPcHRpb25zLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJzdFN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5wbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwiY29udGFpbmVyUGxheVwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICAgICAgdGhpcy5kcmF3KG5lZWRzVXBkYXRlID8/IGZhbHNlKTtcbiAgICB9XG4gICAgYXN5bmMgcmVmcmVzaCgpIHtcbiAgICAgICAgaWYgKCFndWFyZENoZWNrKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICAgIGFzeW5jIHJlc2V0KCkge1xuICAgICAgICBpZiAoIWd1YXJkQ2hlY2sodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0aWFsU291cmNlT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGxvYWRDb250YWluZXJPcHRpb25zKHRoaXMuX2VuZ2luZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucyA9IGxvYWRDb250YWluZXJPcHRpb25zKHRoaXMuX2VuZ2luZSwgdGhpcywgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSB8fCB0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzLmFkZExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aXZpdHkuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5pbnRlcmFjdGl2aXR5LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zdGFydD8uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwiY29udGFpbmVyU3RhcnRlZFwiLCB7IGNvbnRhaW5lcjogdGhpcyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB2b2lkIHN0YXJ0KCksIHRoaXMuX2RlbGF5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICghZ3VhcmRDaGVjayh0aGlzKSB8fCAhdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlbGF5VGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RlbGF5VGltZW91dCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGVsYXlUaW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpcnN0U3RhcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGl2aXR5LmVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB0aGlzLl9pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBwbHVnaW4uc3RvcD8uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5wbHVnaW5zLmtleXMoKSkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvdXJjZU9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICB0aGlzLl9lbmdpbmUuZGlzcGF0Y2hFdmVudChcImNvbnRhaW5lclN0b3BwZWRcIiwgeyBjb250YWluZXI6IHRoaXMgfSk7XG4gICAgfVxuICAgIHVwZGF0ZUFjdHVhbE9wdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucy5yZXNwb25zaXZlID0gW107XG4gICAgICAgIGNvbnN0IG5ld01heFdpZHRoID0gdGhpcy5hY3R1YWxPcHRpb25zLnNldFJlc3BvbnNpdmUodGhpcy5jYW52YXMuc2l6ZS53aWR0aCwgdGhpcy5yZXRpbmEucGl4ZWxSYXRpbywgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucy5zZXRUaGVtZSh0aGlzLl9jdXJyZW50VGhlbWUpO1xuICAgICAgICBpZiAodGhpcy5fcmVzcG9uc2l2ZU1heFdpZHRoID09PSBuZXdNYXhXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNpdmVNYXhXaWR0aCA9IG5ld01heFdpZHRoO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZXJyb3JQcmVmaXgiLCJtaWxsaXNlY29uZHNUb1NlY29uZHMiLCJnZXRMb2dnZXIiLCJzYWZlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJDYW52YXMiLCJFdmVudExpc3RlbmVycyIsIk9wdGlvbnMiLCJQYXJ0aWNsZXMiLCJSZXRpbmEiLCJnZXRSYW5nZVZhbHVlIiwibG9hZE9wdGlvbnMiLCJndWFyZENoZWNrIiwiY29udGFpbmVyIiwiZGVzdHJveWVkIiwiZGVmYXVsdEZwcyIsImluaXREZWx0YSIsInZhbHVlIiwiZnBzTGltaXQiLCJzbW9vdGgiLCJmYWN0b3IiLCJsb2FkQ29udGFpbmVyT3B0aW9ucyIsImVuZ2luZSIsInNvdXJjZU9wdGlvbnNBcnIiLCJvcHRpb25zIiwiQ29udGFpbmVyIiwiYW5pbWF0aW9uU3RhdHVzIiwiX3BhdXNlZCIsInBhZ2VIaWRkZW4iLCJfb3B0aW9ucyIsInNvdXJjZU9wdGlvbnMiLCJfc291cmNlT3B0aW9ucyIsImFkZENsaWNrSGFuZGxlciIsImNhbGxiYWNrIiwiZWwiLCJpbnRlcmFjdGl2aXR5IiwiZWxlbWVudCIsImNsaWNrT3JUb3VjaEhhbmRsZXIiLCJlIiwicG9zIiwicmFkaXVzIiwicHhSYXRpbyIsInJldGluYSIsInBpeGVsUmF0aW8iLCJwb3NSZXRpbmEiLCJ4IiwieSIsInBhcnRpY2xlcyIsInF1YWRUcmVlIiwicXVlcnlDaXJjbGUiLCJjbGlja0hhbmRsZXIiLCJtb3VzZUV2ZW50Iiwib2Zmc2V0WCIsImNsaWVudFgiLCJvZmZzZXRZIiwiY2xpZW50WSIsInRvdWNoU3RhcnRIYW5kbGVyIiwidG91Y2hlZCIsInRvdWNoTW92ZWQiLCJ0b3VjaE1vdmVIYW5kbGVyIiwidG91Y2hFbmRIYW5kbGVyIiwidG91Y2hFdmVudCIsImxlbmd0aE9mZnNldCIsImxhc3RUb3VjaCIsInRvdWNoZXMiLCJsZW5ndGgiLCJjaGFuZ2VkVG91Y2hlcyIsImNhbnZhcyIsImNhbnZhc1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1bmRlZmluZWQiLCJtaW5Db29yZGluYXRlIiwibGVmdCIsInRvcCIsIk1hdGgiLCJtYXgiLCJyYWRpdXNYIiwicmFkaXVzWSIsInRvdWNoQ2FuY2VsSGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRMaWZlVGltZSIsIl9saWZlVGltZSIsImFkZFBhdGgiLCJrZXkiLCJnZW5lcmF0b3IiLCJvdmVycmlkZSIsInBhdGhHZW5lcmF0b3JzIiwiaGFzIiwic2V0IiwiYWxpdmUiLCJfZHVyYXRpb24iLCJkZXN0cm95Iiwic3RvcCIsImVmZmVjdERyYXdlciIsImVmZmVjdERyYXdlcnMiLCJzaGFwZURyYXdlciIsInNoYXBlRHJhd2VycyIsImtleXMiLCJkZWxldGUiLCJfZW5naW5lIiwiY2xlYXJQbHVnaW5zIiwibWFpbkFyciIsImRvbSIsImlkeCIsImZpbmRJbmRleCIsInQiLCJtaW5JbmRleCIsImRlbGV0ZUNvdW50Iiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsImRyYXciLCJmb3JjZSIsInJlZnJlc2hUaW1lIiwiZnJhbWUiLCJ0aW1lc3RhbXAiLCJfbGFzdEZyYW1lVGltZSIsIl9uZXh0RnJhbWUiLCJfZHJhd0FuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZXhwb3J0IiwidHlwZSIsInBsdWdpbiIsInBsdWdpbnMiLCJyZXMiLCJzdXBwb3J0ZWQiLCJibG9iIiwiZXJyb3IiLCJoYW5kbGVDbGlja01vZGUiLCJtb2RlIiwiaW5pdCIsImVmZmVjdHMiLCJnZXRTdXBwb3J0ZWRFZmZlY3RzIiwiZHJhd2VyIiwiZ2V0RWZmZWN0RHJhd2VyIiwic2hhcGVzIiwiZ2V0U3VwcG9ydGVkU2hhcGVzIiwiZ2V0U2hhcGVEcmF3ZXIiLCJpbml0UGx1Z2lucyIsIl9pbml0aWFsU291cmNlT3B0aW9ucyIsImFjdHVhbE9wdGlvbnMiLCJhdmFpbGFibGVQbHVnaW5zIiwiZ2V0QXZhaWxhYmxlUGx1Z2lucyIsImlkIiwidXBkYXRlQWN0dWFsT3B0aW9ucyIsImluaXRCYWNrZ3JvdW5kIiwicmVzaXplIiwiekxheWVycyIsImR1cmF0aW9uIiwiX2RlbGF5IiwiZGVsYXkiLCJkZWZhdWx0RnBzTGltaXQiLCJtaW5GcHNMaW1pdCIsIl9zbW9vdGgiLCJzZXREZW5zaXR5IiwicGFydGljbGVzU2V0dXAiLCJsb2FkVGhlbWUiLCJuYW1lIiwiX2N1cnJlbnRUaGVtZSIsInJlZnJlc2giLCJwYXVzZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicGxheSIsIm5lZWRzVXBkYXRlIiwiX2ZpcnN0U3RhcnQiLCJhdXRvUGxheSIsInN0YXJ0IiwicmVzZXQiLCJzdGFydGVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfZXZlbnRMaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lcnMiLCJIVE1MRWxlbWVudCIsIl9pbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJfZGVsYXlUaW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInJlbW92ZUxpc3RlbmVycyIsImNsZWFyIiwidW5vYnNlcnZlIiwicmVzcG9uc2l2ZSIsIm5ld01heFdpZHRoIiwic2V0UmVzcG9uc2l2ZSIsInNpemUiLCJ3aWR0aCIsInNldFRoZW1lIiwiX3Jlc3BvbnNpdmVNYXhXaWR0aCIsImNvbnN0cnVjdG9yIiwiX2ludGVyc2VjdGlvbk1hbmFnZXIiLCJlbnRyaWVzIiwicGF1c2VPbk91dHNpZGVWaWV3cG9ydCIsImVudHJ5IiwidGFyZ2V0IiwiaXNJbnRlcnNlY3RpbmciLCJkZWx0YSIsIlN5bWJvbCIsIk1hcCIsIm1vdXNlIiwiY2xpY2tpbmciLCJpbnNpZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Container.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particles.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Particles.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Particles: function() { return /* binding */ Particles; }\n/* harmony export */ });\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n/* harmony import */ var _Utils_InteractionManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils/InteractionManager.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js\");\n/* harmony import */ var _Utils_Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils/Point.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Point.js\");\n/* harmony import */ var _Utils_QuadTree_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils/QuadTree.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js\");\n/* harmony import */ var _Utils_Ranges_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Utils/Ranges.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Ranges.js\");\n/* harmony import */ var _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Utils/Constants.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Constants.js\");\n\n\n\n\n\n\nconst qTreeCapacity = 4, squareExp = 2, defaultRemoveQuantity = 1;\nconst qTreeRectangle = (canvasSize)=>{\n    const { height, width } = canvasSize, posOffset = -0.25, sizeFactor = 1.5;\n    return new _Utils_Ranges_js__WEBPACK_IMPORTED_MODULE_4__.Rectangle(posOffset * width, posOffset * height, sizeFactor * width, sizeFactor * height);\n};\nclass Particles {\n    get count() {\n        return this._array.length;\n    }\n    async addManualParticles() {\n        const container = this._container, options = container.actualOptions;\n        for (const particle of options.manualParticles){\n            await this.addParticle(particle.position ? (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__.getPosition)(particle.position, container.canvas.size) : undefined, particle.options);\n        }\n    }\n    async addParticle(position, overrideOptions, group, initializer) {\n        var _this__groupLimits_get;\n        const limitOptions = this._container.actualOptions.particles.number.limit, limit = group === undefined ? this._limit : (_this__groupLimits_get = this._groupLimits.get(group)) !== null && _this__groupLimits_get !== void 0 ? _this__groupLimits_get : this._limit, currentCount = this.count, minLimit = 0;\n        if (limit > minLimit) {\n            if (limitOptions.mode === \"delete\") {\n                const countOffset = 1, minCount = 0, countToRemove = currentCount + countOffset - limit;\n                if (countToRemove > minCount) {\n                    this.removeQuantity(countToRemove);\n                }\n            } else if (limitOptions.mode === \"wait\") {\n                if (currentCount >= limit) {\n                    return;\n                }\n            }\n        }\n        return await this._pushParticle(position, overrideOptions, group, initializer);\n    }\n    clear() {\n        this._array = [];\n        this._zArray = [];\n        this._pluginsInitialized = false;\n    }\n    destroy() {\n        this._array = [];\n        this._zArray = [];\n        this.movers = [];\n        this.updaters = [];\n    }\n    async draw(delta) {\n        const container = this._container, canvas = container.canvas;\n        canvas.clear();\n        await this.update(delta);\n        for (const [, plugin] of container.plugins){\n            await canvas.drawPlugin(plugin, delta);\n        }\n        for (const p of this._zArray){\n            await p.draw(delta);\n        }\n    }\n    filter(condition) {\n        return this._array.filter(condition);\n    }\n    find(condition) {\n        return this._array.find(condition);\n    }\n    get(index) {\n        return this._array[index];\n    }\n    handleClickMode(mode) {\n        this._interactionManager.handleClickMode(mode);\n    }\n    async init() {\n        const container = this._container, options = container.actualOptions;\n        this._lastZIndex = 0;\n        this._needsSort = false;\n        await this.initPlugins();\n        let handled = false;\n        for (const [, plugin] of container.plugins){\n            if (plugin.particlesInitialization !== undefined) {\n                handled = plugin.particlesInitialization();\n            }\n            if (handled) {\n                break;\n            }\n        }\n        await this.addManualParticles();\n        if (!handled) {\n            const particlesOptions = options.particles, groups = particlesOptions.groups;\n            for(const group in groups){\n                var _groupOptions_number;\n                const groupOptions = groups[group];\n                for(let i = this.count, j = 0; j < ((_groupOptions_number = groupOptions.number) === null || _groupOptions_number === void 0 ? void 0 : _groupOptions_number.value) && i < particlesOptions.number.value; i++, j++){\n                    await this.addParticle(undefined, groupOptions, group);\n                }\n            }\n            for(let i = this.count; i < particlesOptions.number.value; i++){\n                await this.addParticle();\n            }\n        }\n    }\n    async initPlugins() {\n        if (this._pluginsInitialized) {\n            return;\n        }\n        const container = this._container;\n        this.movers = await this._engine.getMovers(container, true);\n        this.updaters = await this._engine.getUpdaters(container, true);\n        await this._interactionManager.init();\n        for (const [, pathGenerator] of container.pathGenerators){\n            await pathGenerator.init(container);\n        }\n    }\n    async push(nb, mouse, overrideOptions, group) {\n        for(let i = 0; i < nb; i++){\n            await this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions, group);\n        }\n    }\n    async redraw() {\n        this.clear();\n        await this.init();\n        await this.draw({\n            value: 0,\n            factor: 0\n        });\n    }\n    remove(particle, group, override) {\n        this.removeAt(this._array.indexOf(particle), undefined, group, override);\n    }\n    removeAt(index) {\n        let quantity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : defaultRemoveQuantity, group = arguments.length > 2 ? arguments[2] : void 0, override = arguments.length > 3 ? arguments[3] : void 0;\n        const minIndex = 0;\n        if (index < minIndex || index > this.count) {\n            return;\n        }\n        let deleted = 0;\n        for(let i = index; deleted < quantity && i < this.count; i++){\n            if (this._removeParticle(i--, group, override)) {\n                deleted++;\n            }\n        }\n    }\n    removeQuantity(quantity, group) {\n        const defaultIndex = 0;\n        this.removeAt(defaultIndex, quantity, group);\n    }\n    async setDensity() {\n        const options = this._container.actualOptions, groups = options.particles.groups, manualCount = 0;\n        for(const group in groups){\n            await this._applyDensity(groups[group], manualCount, group);\n        }\n        await this._applyDensity(options.particles, options.manualParticles.length);\n    }\n    setLastZIndex(zIndex) {\n        this._lastZIndex = zIndex;\n        this._needsSort = this._needsSort || this._lastZIndex < zIndex;\n    }\n    setResizeFactor(factor) {\n        this._resizeFactor = factor;\n    }\n    async update(delta) {\n        const container = this._container, particlesToDelete = new Set();\n        this.quadTree = new _Utils_QuadTree_js__WEBPACK_IMPORTED_MODULE_3__.QuadTree(qTreeRectangle(container.canvas.size), qTreeCapacity);\n        for (const [, pathGenerator] of container.pathGenerators){\n            pathGenerator.update();\n        }\n        for (const [, plugin] of container.plugins){\n            var _plugin_update;\n            await ((_plugin_update = plugin.update) === null || _plugin_update === void 0 ? void 0 : _plugin_update.call(plugin, delta));\n        }\n        const resizeFactor = this._resizeFactor;\n        for (const particle of this._array){\n            if (resizeFactor && !particle.ignoresResizeRatio) {\n                particle.position.x *= resizeFactor.width;\n                particle.position.y *= resizeFactor.height;\n                particle.initialPosition.x *= resizeFactor.width;\n                particle.initialPosition.y *= resizeFactor.height;\n            }\n            particle.ignoresResizeRatio = false;\n            this._interactionManager.reset(particle);\n            for (const [, plugin] of this._container.plugins){\n                var _plugin_particleUpdate;\n                if (particle.destroyed) {\n                    break;\n                }\n                (_plugin_particleUpdate = plugin.particleUpdate) === null || _plugin_particleUpdate === void 0 ? void 0 : _plugin_particleUpdate.call(plugin, particle, delta);\n            }\n            for (const mover of this.movers){\n                if (mover.isEnabled(particle)) {\n                    await mover.move(particle, delta);\n                }\n            }\n            if (particle.destroyed) {\n                particlesToDelete.add(particle);\n                continue;\n            }\n            this.quadTree.insert(new _Utils_Point_js__WEBPACK_IMPORTED_MODULE_2__.Point(particle.getPosition(), particle));\n        }\n        if (particlesToDelete.size) {\n            const checkDelete = (p)=>!particlesToDelete.has(p);\n            this._array = this.filter(checkDelete);\n            this._zArray = this._zArray.filter(checkDelete);\n            for (const particle of particlesToDelete){\n                this._engine.dispatchEvent(\"particleRemoved\", {\n                    container: this._container,\n                    data: {\n                        particle\n                    }\n                });\n            }\n            this._addToPool(...particlesToDelete);\n        }\n        await this._interactionManager.externalInteract(delta);\n        for (const particle of this._array){\n            for (const updater of this.updaters){\n                await updater.update(particle, delta);\n            }\n            if (!particle.destroyed && !particle.spawning) {\n                await this._interactionManager.particlesInteract(particle, delta);\n            }\n        }\n        delete this._resizeFactor;\n        if (this._needsSort) {\n            const zArray = this._zArray;\n            zArray.sort((a, b)=>b.position.z - a.position.z || a.id - b.id);\n            const lengthOffset = 1;\n            this._lastZIndex = zArray[zArray.length - lengthOffset].position.z;\n            this._needsSort = false;\n        }\n    }\n    constructor(engine, container){\n        var _this = this;\n        this._addToPool = function() {\n            for(var _len = arguments.length, particles = new Array(_len), _key = 0; _key < _len; _key++){\n                particles[_key] = arguments[_key];\n            }\n            for (const particle of particles){\n                _this._pool.push(particle);\n            }\n        };\n        this._applyDensity = async (options, manualCount, group)=>{\n            var _options_number_density;\n            const numberOptions = options.number;\n            if (!((_options_number_density = options.number.density) === null || _options_number_density === void 0 ? void 0 : _options_number_density.enable)) {\n                if (group === undefined) {\n                    this._limit = numberOptions.limit.value;\n                } else if (numberOptions.limit) {\n                    this._groupLimits.set(group, numberOptions.limit.value);\n                }\n                return;\n            }\n            const densityFactor = this._initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, minLimit = 0, optParticlesLimit = numberOptions.limit.value > minLimit ? numberOptions.limit.value : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.filter((t)=>t.group === group).length);\n            if (group === undefined) {\n                this._limit = numberOptions.limit.value * densityFactor;\n            } else {\n                this._groupLimits.set(group, numberOptions.limit.value * densityFactor);\n            }\n            if (particlesCount < particlesNumber) {\n                await this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n            } else if (particlesCount > particlesNumber) {\n                this.removeQuantity(particlesCount - particlesNumber, group);\n            }\n        };\n        this._initDensityFactor = (densityOptions)=>{\n            const container = this._container, defaultFactor = 1;\n            if (!container.canvas.element || !densityOptions.enable) {\n                return defaultFactor;\n            }\n            const canvas = container.canvas.element, pxRatio = container.retina.pixelRatio;\n            return canvas.width * canvas.height / (densityOptions.height * densityOptions.width * pxRatio ** squareExp);\n        };\n        this._pushParticle = async (position, overrideOptions, group, initializer)=>{\n            try {\n                let particle = this._pool.pop();\n                if (!particle) {\n                    const { Particle } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_tsparticles_engine_browser_Core_Particle_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./Particle.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particle.js\"));\n                    particle = new Particle(this._engine, this._container);\n                }\n                await particle.init(this._nextId, position, overrideOptions, group);\n                let canAdd = true;\n                if (initializer) {\n                    canAdd = initializer(particle);\n                }\n                if (!canAdd) {\n                    return;\n                }\n                this._array.push(particle);\n                this._zArray.push(particle);\n                this._nextId++;\n                this._engine.dispatchEvent(\"particleAdded\", {\n                    container: this._container,\n                    data: {\n                        particle\n                    }\n                });\n                return particle;\n            } catch (e) {\n                (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__.getLogger)().warning(\"\".concat(_Utils_Constants_js__WEBPACK_IMPORTED_MODULE_5__.errorPrefix, \" adding particle: \").concat(e));\n            }\n        };\n        this._removeParticle = (index, group, override)=>{\n            const particle = this._array[index];\n            if (!particle || particle.group !== group) {\n                return false;\n            }\n            const zIdx = this._zArray.indexOf(particle), deleteCount = 1;\n            this._array.splice(index, deleteCount);\n            this._zArray.splice(zIdx, deleteCount);\n            particle.destroy(override);\n            this._engine.dispatchEvent(\"particleRemoved\", {\n                container: this._container,\n                data: {\n                    particle\n                }\n            });\n            this._addToPool(particle);\n            return true;\n        };\n        this._engine = engine;\n        this._container = container;\n        this._nextId = 0;\n        this._array = [];\n        this._zArray = [];\n        this._pool = [];\n        this._limit = 0;\n        this._groupLimits = new Map();\n        this._needsSort = false;\n        this._lastZIndex = 0;\n        this._interactionManager = new _Utils_InteractionManager_js__WEBPACK_IMPORTED_MODULE_1__.InteractionManager(engine, container);\n        this._pluginsInitialized = false;\n        const canvasSize = container.canvas.size;\n        this.quadTree = new _Utils_QuadTree_js__WEBPACK_IMPORTED_MODULE_3__.QuadTree(qTreeRectangle(canvasSize), qTreeCapacity);\n        this.movers = [];\n        this.updaters = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9QYXJ0aWNsZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNRO0FBQzFCO0FBQ007QUFDRDtBQUNLO0FBQ25ELE1BQU1PLGdCQUFnQixHQUFHQyxZQUFZLEdBQUdDLHdCQUF3QjtBQUNoRSxNQUFNQyxpQkFBaUIsQ0FBQ0M7SUFDcEIsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHRixZQUFZRyxZQUFZLENBQUMsTUFBTUMsYUFBYTtJQUN0RSxPQUFPLElBQUlWLHVEQUFTQSxDQUFDUyxZQUFZRCxPQUFPQyxZQUFZRixRQUFRRyxhQUFhRixPQUFPRSxhQUFhSDtBQUNqRztBQUNPLE1BQU1JO0lBeUdULElBQUlDLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNO0lBQzdCO0lBQ0EsTUFBTUMscUJBQXFCO1FBQ3ZCLE1BQU1DLFlBQVksSUFBSSxDQUFDQyxVQUFVLEVBQUVDLFVBQVVGLFVBQVVHLGFBQWE7UUFDcEUsS0FBSyxNQUFNQyxZQUFZRixRQUFRRyxlQUFlLENBQUU7WUFDNUMsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQ0YsU0FBU0csUUFBUSxHQUFHM0IsNERBQVdBLENBQUN3QixTQUFTRyxRQUFRLEVBQUVQLFVBQVVRLE1BQU0sQ0FBQ0MsSUFBSSxJQUFJQyxXQUFXTixTQUFTRixPQUFPO1FBQ2xJO0lBQ0o7SUFDQSxNQUFNSSxZQUFZQyxRQUFRLEVBQUVJLGVBQWUsRUFBRUMsS0FBSyxFQUFFQyxXQUFXLEVBQUU7WUFDMEQ7UUFBdkgsTUFBTUMsZUFBZSxJQUFJLENBQUNiLFVBQVUsQ0FBQ0UsYUFBYSxDQUFDWSxTQUFTLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxFQUFFQSxRQUFRTCxVQUFVRixZQUFZLElBQUksQ0FBQ1EsTUFBTSxHQUFHLDhCQUFJLENBQUNDLFlBQVks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O1lBQ0EsSUFBSSxDQUFDc0csVUFBVSxDQUFDdEc7WUFDaEIsT0FBTztRQUNYO1FBQ0EsSUFBSSxDQUFDd0QsT0FBTyxHQUFHMkQ7UUFDZixJQUFJLENBQUN0SCxVQUFVLEdBQUdEO1FBQ2xCLElBQUksQ0FBQytJLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ2xKLE1BQU0sR0FBRyxFQUFFO1FBQ2hCLElBQUksQ0FBQ2lDLE9BQU8sR0FBRyxFQUFFO1FBQ2pCLElBQUksQ0FBQzBGLEtBQUssR0FBRyxFQUFFO1FBQ2YsSUFBSSxDQUFDdEcsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSW1JO1FBQ3hCLElBQUksQ0FBQ3BHLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNELFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNGLG1CQUFtQixHQUFHLElBQUlsRSw0RUFBa0JBLENBQUMwSSxRQUFRdkg7UUFDMUQsSUFBSSxDQUFDK0IsbUJBQW1CLEdBQUc7UUFDM0IsTUFBTXpDLGFBQWFVLFVBQVVRLE1BQU0sQ0FBQ0MsSUFBSTtRQUN4QyxJQUFJLENBQUMrRSxRQUFRLEdBQUcsSUFBSXpHLHdEQUFRQSxDQUFDTSxlQUFlQyxhQUFhSjtRQUN6RCxJQUFJLENBQUMrQyxNQUFNLEdBQUcsRUFBRTtRQUNoQixJQUFJLENBQUNDLFFBQVEsR0FBRyxFQUFFO0lBQ3RCO0FBb05KIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9QYXJ0aWNsZXMuanM/MjQxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMb2dnZXIsIGdldFBvc2l0aW9uIH0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9VdGlscy9JbnRlcmFjdGlvbk1hbmFnZXIuanNcIjtcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4vVXRpbHMvUG9pbnQuanNcIjtcbmltcG9ydCB7IFF1YWRUcmVlIH0gZnJvbSBcIi4vVXRpbHMvUXVhZFRyZWUuanNcIjtcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL1V0aWxzL1Jhbmdlcy5qc1wiO1xuaW1wb3J0IHsgZXJyb3JQcmVmaXggfSBmcm9tIFwiLi9VdGlscy9Db25zdGFudHMuanNcIjtcbmNvbnN0IHFUcmVlQ2FwYWNpdHkgPSA0LCBzcXVhcmVFeHAgPSAyLCBkZWZhdWx0UmVtb3ZlUXVhbnRpdHkgPSAxO1xuY29uc3QgcVRyZWVSZWN0YW5nbGUgPSAoY2FudmFzU2l6ZSkgPT4ge1xuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gY2FudmFzU2l6ZSwgcG9zT2Zmc2V0ID0gLTAuMjUsIHNpemVGYWN0b3IgPSAxLjU7XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUocG9zT2Zmc2V0ICogd2lkdGgsIHBvc09mZnNldCAqIGhlaWdodCwgc2l6ZUZhY3RvciAqIHdpZHRoLCBzaXplRmFjdG9yICogaGVpZ2h0KTtcbn07XG5leHBvcnQgY2xhc3MgUGFydGljbGVzIHtcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9hZGRUb1Bvb2wgPSAoLi4ucGFydGljbGVzKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIHBhcnRpY2xlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Bvb2wucHVzaChwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2FwcGx5RGVuc2l0eSA9IGFzeW5jIChvcHRpb25zLCBtYW51YWxDb3VudCwgZ3JvdXApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlck9wdGlvbnMgPSBvcHRpb25zLm51bWJlcjtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5udW1iZXIuZGVuc2l0eT8uZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGltaXQgPSBudW1iZXJPcHRpb25zLmxpbWl0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChudW1iZXJPcHRpb25zLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwTGltaXRzLnNldChncm91cCwgbnVtYmVyT3B0aW9ucy5saW1pdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlbnNpdHlGYWN0b3IgPSB0aGlzLl9pbml0RGVuc2l0eUZhY3RvcihudW1iZXJPcHRpb25zLmRlbnNpdHkpLCBvcHRQYXJ0aWNsZXNOdW1iZXIgPSBudW1iZXJPcHRpb25zLnZhbHVlLCBtaW5MaW1pdCA9IDAsIG9wdFBhcnRpY2xlc0xpbWl0ID0gbnVtYmVyT3B0aW9ucy5saW1pdC52YWx1ZSA+IG1pbkxpbWl0ID8gbnVtYmVyT3B0aW9ucy5saW1pdC52YWx1ZSA6IG9wdFBhcnRpY2xlc051bWJlciwgcGFydGljbGVzTnVtYmVyID0gTWF0aC5taW4ob3B0UGFydGljbGVzTnVtYmVyLCBvcHRQYXJ0aWNsZXNMaW1pdCkgKiBkZW5zaXR5RmFjdG9yICsgbWFudWFsQ291bnQsIHBhcnRpY2xlc0NvdW50ID0gTWF0aC5taW4odGhpcy5jb3VudCwgdGhpcy5maWx0ZXIoKHQpID0+IHQuZ3JvdXAgPT09IGdyb3VwKS5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW1pdCA9IG51bWJlck9wdGlvbnMubGltaXQudmFsdWUgKiBkZW5zaXR5RmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXBMaW1pdHMuc2V0KGdyb3VwLCBudW1iZXJPcHRpb25zLmxpbWl0LnZhbHVlICogZGVuc2l0eUZhY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGljbGVzQ291bnQgPCBwYXJ0aWNsZXNOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnB1c2goTWF0aC5hYnMocGFydGljbGVzTnVtYmVyIC0gcGFydGljbGVzQ291bnQpLCB1bmRlZmluZWQsIG9wdGlvbnMsIGdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnRpY2xlc0NvdW50ID4gcGFydGljbGVzTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVRdWFudGl0eShwYXJ0aWNsZXNDb3VudCAtIHBhcnRpY2xlc051bWJlciwgZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9pbml0RGVuc2l0eUZhY3RvciA9IChkZW5zaXR5T3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLCBkZWZhdWx0RmFjdG9yID0gMTtcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyLmNhbnZhcy5lbGVtZW50IHx8ICFkZW5zaXR5T3B0aW9ucy5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZhY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudCwgcHhSYXRpbyA9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHJldHVybiAoY2FudmFzLndpZHRoICogY2FudmFzLmhlaWdodCkgLyAoZGVuc2l0eU9wdGlvbnMuaGVpZ2h0ICogZGVuc2l0eU9wdGlvbnMud2lkdGggKiBweFJhdGlvICoqIHNxdWFyZUV4cCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3B1c2hQYXJ0aWNsZSA9IGFzeW5jIChwb3NpdGlvbiwgb3ZlcnJpZGVPcHRpb25zLCBncm91cCwgaW5pdGlhbGl6ZXIpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnRpY2xlID0gdGhpcy5fcG9vbC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgUGFydGljbGUgfSA9IGF3YWl0IGltcG9ydChcIi4vUGFydGljbGUuanNcIik7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKHRoaXMuX2VuZ2luZSwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgcGFydGljbGUuaW5pdCh0aGlzLl9uZXh0SWQsIHBvc2l0aW9uLCBvdmVycmlkZU9wdGlvbnMsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBsZXQgY2FuQWRkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbGl6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuQWRkID0gaW5pdGlhbGl6ZXIocGFydGljbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNhbkFkZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2FycmF5LnB1c2gocGFydGljbGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3pBcnJheS5wdXNoKHBhcnRpY2xlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0SWQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmdpbmUuZGlzcGF0Y2hFdmVudChcInBhcnRpY2xlQWRkZWRcIiwge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuX2NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpY2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBnZXRMb2dnZXIoKS53YXJuaW5nKGAke2Vycm9yUHJlZml4fSBhZGRpbmcgcGFydGljbGU6ICR7ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGFydGljbGUgPSAoaW5kZXgsIGdyb3VwLCBvdmVycmlkZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGUgPSB0aGlzLl9hcnJheVtpbmRleF07XG4gICAgICAgICAgICBpZiAoIXBhcnRpY2xlIHx8IHBhcnRpY2xlLmdyb3VwICE9PSBncm91cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHpJZHggPSB0aGlzLl96QXJyYXkuaW5kZXhPZihwYXJ0aWNsZSksIGRlbGV0ZUNvdW50ID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2FycmF5LnNwbGljZShpbmRleCwgZGVsZXRlQ291bnQpO1xuICAgICAgICAgICAgdGhpcy5fekFycmF5LnNwbGljZSh6SWR4LCBkZWxldGVDb3VudCk7XG4gICAgICAgICAgICBwYXJ0aWNsZS5kZXN0cm95KG92ZXJyaWRlKTtcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwicGFydGljbGVSZW1vdmVkXCIsIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuX2NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUG9vbChwYXJ0aWNsZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX25leHRJZCA9IDA7XG4gICAgICAgIHRoaXMuX2FycmF5ID0gW107XG4gICAgICAgIHRoaXMuX3pBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLl9wb29sID0gW107XG4gICAgICAgIHRoaXMuX2xpbWl0ID0gMDtcbiAgICAgICAgdGhpcy5fZ3JvdXBMaW1pdHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX25lZWRzU29ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sYXN0WkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25NYW5hZ2VyID0gbmV3IEludGVyYWN0aW9uTWFuYWdlcihlbmdpbmUsIGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX3BsdWdpbnNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjYW52YXNTaXplID0gY29udGFpbmVyLmNhbnZhcy5zaXplO1xuICAgICAgICB0aGlzLnF1YWRUcmVlID0gbmV3IFF1YWRUcmVlKHFUcmVlUmVjdGFuZ2xlKGNhbnZhc1NpemUpLCBxVHJlZUNhcGFjaXR5KTtcbiAgICAgICAgdGhpcy5tb3ZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy51cGRhdGVycyA9IFtdO1xuICAgIH1cbiAgICBnZXQgY291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIGFzeW5jIGFkZE1hbnVhbFBhcnRpY2xlcygpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2Ygb3B0aW9ucy5tYW51YWxQYXJ0aWNsZXMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkUGFydGljbGUocGFydGljbGUucG9zaXRpb24gPyBnZXRQb3NpdGlvbihwYXJ0aWNsZS5wb3NpdGlvbiwgY29udGFpbmVyLmNhbnZhcy5zaXplKSA6IHVuZGVmaW5lZCwgcGFydGljbGUub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgYWRkUGFydGljbGUocG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXAsIGluaXRpYWxpemVyKSB7XG4gICAgICAgIGNvbnN0IGxpbWl0T3B0aW9ucyA9IHRoaXMuX2NvbnRhaW5lci5hY3R1YWxPcHRpb25zLnBhcnRpY2xlcy5udW1iZXIubGltaXQsIGxpbWl0ID0gZ3JvdXAgPT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpbWl0IDogdGhpcy5fZ3JvdXBMaW1pdHMuZ2V0KGdyb3VwKSA/PyB0aGlzLl9saW1pdCwgY3VycmVudENvdW50ID0gdGhpcy5jb3VudCwgbWluTGltaXQgPSAwO1xuICAgICAgICBpZiAobGltaXQgPiBtaW5MaW1pdCkge1xuICAgICAgICAgICAgaWYgKGxpbWl0T3B0aW9ucy5tb2RlID09PSBcImRlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY291bnRPZmZzZXQgPSAxLCBtaW5Db3VudCA9IDAsIGNvdW50VG9SZW1vdmUgPSBjdXJyZW50Q291bnQgKyBjb3VudE9mZnNldCAtIGxpbWl0O1xuICAgICAgICAgICAgICAgIGlmIChjb3VudFRvUmVtb3ZlID4gbWluQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVRdWFudGl0eShjb3VudFRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW1pdE9wdGlvbnMubW9kZSA9PT0gXCJ3YWl0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvdW50ID49IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3B1c2hQYXJ0aWNsZShwb3NpdGlvbiwgb3ZlcnJpZGVPcHRpb25zLCBncm91cCwgaW5pdGlhbGl6ZXIpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5fekFycmF5ID0gW107XG4gICAgICAgIHRoaXMuX3BsdWdpbnNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9hcnJheSA9IFtdO1xuICAgICAgICB0aGlzLl96QXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5tb3ZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy51cGRhdGVycyA9IFtdO1xuICAgIH1cbiAgICBhc3luYyBkcmF3KGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciwgY2FudmFzID0gY29udGFpbmVyLmNhbnZhcztcbiAgICAgICAgY2FudmFzLmNsZWFyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKGRlbHRhKTtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIGNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICBhd2FpdCBjYW52YXMuZHJhd1BsdWdpbihwbHVnaW4sIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5fekFycmF5KSB7XG4gICAgICAgICAgICBhd2FpdCBwLmRyYXcoZGVsdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbHRlcihjb25kaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FycmF5LmZpbHRlcihjb25kaXRpb24pO1xuICAgIH1cbiAgICBmaW5kKGNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJyYXkuZmluZChjb25kaXRpb24pO1xuICAgIH1cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FycmF5W2luZGV4XTtcbiAgICB9XG4gICAgaGFuZGxlQ2xpY2tNb2RlKG1vZGUpIHtcbiAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25NYW5hZ2VyLmhhbmRsZUNsaWNrTW9kZShtb2RlKTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2xhc3RaSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9uZWVkc1NvcnQgPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0UGx1Z2lucygpO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4ucGFydGljbGVzSW5pdGlhbGl6YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBwbHVnaW4ucGFydGljbGVzSW5pdGlhbGl6YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5hZGRNYW51YWxQYXJ0aWNsZXMoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZXNPcHRpb25zID0gb3B0aW9ucy5wYXJ0aWNsZXMsIGdyb3VwcyA9IHBhcnRpY2xlc09wdGlvbnMuZ3JvdXBzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBpbiBncm91cHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cE9wdGlvbnMgPSBncm91cHNbZ3JvdXBdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNvdW50LCBqID0gMDsgaiA8IGdyb3VwT3B0aW9ucy5udW1iZXI/LnZhbHVlICYmIGkgPCBwYXJ0aWNsZXNPcHRpb25zLm51bWJlci52YWx1ZTsgaSsrLCBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRQYXJ0aWNsZSh1bmRlZmluZWQsIGdyb3VwT3B0aW9ucywgZ3JvdXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNvdW50OyBpIDwgcGFydGljbGVzT3B0aW9ucy5udW1iZXIudmFsdWU7IGkrKykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkUGFydGljbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBpbml0UGx1Z2lucygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BsdWdpbnNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5tb3ZlcnMgPSBhd2FpdCB0aGlzLl9lbmdpbmUuZ2V0TW92ZXJzKGNvbnRhaW5lciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlcnMgPSBhd2FpdCB0aGlzLl9lbmdpbmUuZ2V0VXBkYXRlcnMoY29udGFpbmVyLCB0cnVlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faW50ZXJhY3Rpb25NYW5hZ2VyLmluaXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwYXRoR2VuZXJhdG9yXSBvZiBjb250YWluZXIucGF0aEdlbmVyYXRvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHBhdGhHZW5lcmF0b3IuaW5pdChjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHB1c2gobmIsIG1vdXNlLCBvdmVycmlkZU9wdGlvbnMsIGdyb3VwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmI7IGkrKykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRQYXJ0aWNsZShtb3VzZT8ucG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlZHJhdygpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kcmF3KHsgdmFsdWU6IDAsIGZhY3RvcjogMCB9KTtcbiAgICB9XG4gICAgcmVtb3ZlKHBhcnRpY2xlLCBncm91cCwgb3ZlcnJpZGUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdCh0aGlzLl9hcnJheS5pbmRleE9mKHBhcnRpY2xlKSwgdW5kZWZpbmVkLCBncm91cCwgb3ZlcnJpZGUpO1xuICAgIH1cbiAgICByZW1vdmVBdChpbmRleCwgcXVhbnRpdHkgPSBkZWZhdWx0UmVtb3ZlUXVhbnRpdHksIGdyb3VwLCBvdmVycmlkZSkge1xuICAgICAgICBjb25zdCBtaW5JbmRleCA9IDA7XG4gICAgICAgIGlmIChpbmRleCA8IG1pbkluZGV4IHx8IGluZGV4ID4gdGhpcy5jb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWxldGVkID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBkZWxldGVkIDwgcXVhbnRpdHkgJiYgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlbW92ZVBhcnRpY2xlKGktLSwgZ3JvdXAsIG92ZXJyaWRlKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVRdWFudGl0eShxdWFudGl0eSwgZ3JvdXApIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5yZW1vdmVBdChkZWZhdWx0SW5kZXgsIHF1YW50aXR5LCBncm91cCk7XG4gICAgfVxuICAgIGFzeW5jIHNldERlbnNpdHkoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9jb250YWluZXIuYWN0dWFsT3B0aW9ucywgZ3JvdXBzID0gb3B0aW9ucy5wYXJ0aWNsZXMuZ3JvdXBzLCBtYW51YWxDb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgaW4gZ3JvdXBzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hcHBseURlbnNpdHkoZ3JvdXBzW2dyb3VwXSwgbWFudWFsQ291bnQsIGdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9hcHBseURlbnNpdHkob3B0aW9ucy5wYXJ0aWNsZXMsIG9wdGlvbnMubWFudWFsUGFydGljbGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHNldExhc3RaSW5kZXgoekluZGV4KSB7XG4gICAgICAgIHRoaXMuX2xhc3RaSW5kZXggPSB6SW5kZXg7XG4gICAgICAgIHRoaXMuX25lZWRzU29ydCA9IHRoaXMuX25lZWRzU29ydCB8fCB0aGlzLl9sYXN0WkluZGV4IDwgekluZGV4O1xuICAgIH1cbiAgICBzZXRSZXNpemVGYWN0b3IoZmFjdG9yKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZUZhY3RvciA9IGZhY3RvcjtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciwgcGFydGljbGVzVG9EZWxldGUgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMucXVhZFRyZWUgPSBuZXcgUXVhZFRyZWUocVRyZWVSZWN0YW5nbGUoY29udGFpbmVyLmNhbnZhcy5zaXplKSwgcVRyZWVDYXBhY2l0eSk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGF0aEdlbmVyYXRvcl0gb2YgY29udGFpbmVyLnBhdGhHZW5lcmF0b3JzKSB7XG4gICAgICAgICAgICBwYXRoR2VuZXJhdG9yLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnVwZGF0ZT8uKGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNpemVGYWN0b3IgPSB0aGlzLl9yZXNpemVGYWN0b3I7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgdGhpcy5fYXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChyZXNpemVGYWN0b3IgJiYgIXBhcnRpY2xlLmlnbm9yZXNSZXNpemVSYXRpbykge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggKj0gcmVzaXplRmFjdG9yLndpZHRoO1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgKj0gcmVzaXplRmFjdG9yLmhlaWdodDtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5pbml0aWFsUG9zaXRpb24ueCAqPSByZXNpemVGYWN0b3Iud2lkdGg7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uLnkgKj0gcmVzaXplRmFjdG9yLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRpY2xlLmlnbm9yZXNSZXNpemVSYXRpbyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25NYW5hZ2VyLnJlc2V0KHBhcnRpY2xlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiB0aGlzLl9jb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBsdWdpbi5wYXJ0aWNsZVVwZGF0ZT8uKHBhcnRpY2xlLCBkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1vdmVyIG9mIHRoaXMubW92ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVyLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW92ZXIubW92ZShwYXJ0aWNsZSwgZGVsdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZXNUb0RlbGV0ZS5hZGQocGFydGljbGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5xdWFkVHJlZS5pbnNlcnQobmV3IFBvaW50KHBhcnRpY2xlLmdldFBvc2l0aW9uKCksIHBhcnRpY2xlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpY2xlc1RvRGVsZXRlLnNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRGVsZXRlID0gKHApID0+ICFwYXJ0aWNsZXNUb0RlbGV0ZS5oYXMocCk7XG4gICAgICAgICAgICB0aGlzLl9hcnJheSA9IHRoaXMuZmlsdGVyKGNoZWNrRGVsZXRlKTtcbiAgICAgICAgICAgIHRoaXMuX3pBcnJheSA9IHRoaXMuX3pBcnJheS5maWx0ZXIoY2hlY2tEZWxldGUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBwYXJ0aWNsZXNUb0RlbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5kaXNwYXRjaEV2ZW50KFwicGFydGljbGVSZW1vdmVkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLl9jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWRkVG9Qb29sKC4uLnBhcnRpY2xlc1RvRGVsZXRlKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9pbnRlcmFjdGlvbk1hbmFnZXIuZXh0ZXJuYWxJbnRlcmFjdChkZWx0YSk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgdGhpcy5fYXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlciBvZiB0aGlzLnVwZGF0ZXJzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlci51cGRhdGUocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFydGljbGUuZGVzdHJveWVkICYmICFwYXJ0aWNsZS5zcGF3bmluZykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2ludGVyYWN0aW9uTWFuYWdlci5wYXJ0aWNsZXNJbnRlcmFjdChwYXJ0aWNsZSwgZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yZXNpemVGYWN0b3I7XG4gICAgICAgIGlmICh0aGlzLl9uZWVkc1NvcnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHpBcnJheSA9IHRoaXMuX3pBcnJheTtcbiAgICAgICAgICAgIHpBcnJheS5zb3J0KChhLCBiKSA9PiBiLnBvc2l0aW9uLnogLSBhLnBvc2l0aW9uLnogfHwgYS5pZCAtIGIuaWQpO1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoT2Zmc2V0ID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RaSW5kZXggPSB6QXJyYXlbekFycmF5Lmxlbmd0aCAtIGxlbmd0aE9mZnNldF0ucG9zaXRpb24uejtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzU29ydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImdldExvZ2dlciIsImdldFBvc2l0aW9uIiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiUG9pbnQiLCJRdWFkVHJlZSIsIlJlY3RhbmdsZSIsImVycm9yUHJlZml4IiwicVRyZWVDYXBhY2l0eSIsInNxdWFyZUV4cCIsImRlZmF1bHRSZW1vdmVRdWFudGl0eSIsInFUcmVlUmVjdGFuZ2xlIiwiY2FudmFzU2l6ZSIsImhlaWdodCIsIndpZHRoIiwicG9zT2Zmc2V0Iiwic2l6ZUZhY3RvciIsIlBhcnRpY2xlcyIsImNvdW50IiwiX2FycmF5IiwibGVuZ3RoIiwiYWRkTWFudWFsUGFydGljbGVzIiwiY29udGFpbmVyIiwiX2NvbnRhaW5lciIsIm9wdGlvbnMiLCJhY3R1YWxPcHRpb25zIiwicGFydGljbGUiLCJtYW51YWxQYXJ0aWNsZXMiLCJhZGRQYXJ0aWNsZSIsInBvc2l0aW9uIiwiY2FudmFzIiwic2l6ZSIsInVuZGVmaW5lZCIsIm92ZXJyaWRlT3B0aW9ucyIsImdyb3VwIiwiaW5pdGlhbGl6ZXIiLCJsaW1pdE9wdGlvbnMiLCJwYXJ0aWNsZXMiLCJudW1iZXIiLCJsaW1pdCIsIl9saW1pdCIsIl9ncm91cExpbWl0cyIsImdldCIsImN1cnJlbnRDb3VudCIsIm1pbkxpbWl0IiwibW9kZSIsImNvdW50T2Zmc2V0IiwibWluQ291bnQiLCJjb3VudFRvUmVtb3ZlIiwicmVtb3ZlUXVhbnRpdHkiLCJfcHVzaFBhcnRpY2xlIiwiY2xlYXIiLCJfekFycmF5IiwiX3BsdWdpbnNJbml0aWFsaXplZCIsImRlc3Ryb3kiLCJtb3ZlcnMiLCJ1cGRhdGVycyIsImRyYXciLCJkZWx0YSIsInVwZGF0ZSIsInBsdWdpbiIsInBsdWdpbnMiLCJkcmF3UGx1Z2luIiwicCIsImZpbHRlciIsImNvbmRpdGlvbiIsImZpbmQiLCJpbmRleCIsImhhbmRsZUNsaWNrTW9kZSIsIl9pbnRlcmFjdGlvbk1hbmFnZXIiLCJpbml0IiwiX2xhc3RaSW5kZXgiLCJfbmVlZHNTb3J0IiwiaW5pdFBsdWdpbnMiLCJoYW5kbGVkIiwicGFydGljbGVzSW5pdGlhbGl6YXRpb24iLCJwYXJ0aWNsZXNPcHRpb25zIiwiZ3JvdXBzIiwiZ3JvdXBPcHRpb25zIiwiaSIsImoiLCJ2YWx1ZSIsIl9lbmdpbmUiLCJnZXRNb3ZlcnMiLCJnZXRVcGRhdGVycyIsInBhdGhHZW5lcmF0b3IiLCJwYXRoR2VuZXJhdG9ycyIsInB1c2giLCJuYiIsIm1vdXNlIiwicmVkcmF3IiwiZmFjdG9yIiwicmVtb3ZlIiwib3ZlcnJpZGUiLCJyZW1vdmVBdCIsImluZGV4T2YiLCJxdWFudGl0eSIsIm1pbkluZGV4IiwiZGVsZXRlZCIsIl9yZW1vdmVQYXJ0aWNsZSIsImRlZmF1bHRJbmRleCIsInNldERlbnNpdHkiLCJtYW51YWxDb3VudCIsIl9hcHBseURlbnNpdHkiLCJzZXRMYXN0WkluZGV4IiwiekluZGV4Iiwic2V0UmVzaXplRmFjdG9yIiwiX3Jlc2l6ZUZhY3RvciIsInBhcnRpY2xlc1RvRGVsZXRlIiwiU2V0IiwicXVhZFRyZWUiLCJyZXNpemVGYWN0b3IiLCJpZ25vcmVzUmVzaXplUmF0aW8iLCJ4IiwieSIsImluaXRpYWxQb3NpdGlvbiIsInJlc2V0IiwiZGVzdHJveWVkIiwicGFydGljbGVVcGRhdGUiLCJtb3ZlciIsImlzRW5hYmxlZCIsIm1vdmUiLCJhZGQiLCJpbnNlcnQiLCJjaGVja0RlbGV0ZSIsImhhcyIsImRpc3BhdGNoRXZlbnQiLCJkYXRhIiwiX2FkZFRvUG9vbCIsImV4dGVybmFsSW50ZXJhY3QiLCJ1cGRhdGVyIiwic3Bhd25pbmciLCJwYXJ0aWNsZXNJbnRlcmFjdCIsInpBcnJheSIsInNvcnQiLCJhIiwiYiIsInoiLCJpZCIsImxlbmd0aE9mZnNldCIsImNvbnN0cnVjdG9yIiwiZW5naW5lIiwiX3Bvb2wiLCJudW1iZXJPcHRpb25zIiwiZGVuc2l0eSIsImVuYWJsZSIsInNldCIsImRlbnNpdHlGYWN0b3IiLCJfaW5pdERlbnNpdHlGYWN0b3IiLCJvcHRQYXJ0aWNsZXNOdW1iZXIiLCJvcHRQYXJ0aWNsZXNMaW1pdCIsInBhcnRpY2xlc051bWJlciIsIk1hdGgiLCJtaW4iLCJwYXJ0aWNsZXNDb3VudCIsInQiLCJhYnMiLCJkZW5zaXR5T3B0aW9ucyIsImRlZmF1bHRGYWN0b3IiLCJlbGVtZW50IiwicHhSYXRpbyIsInJldGluYSIsInBpeGVsUmF0aW8iLCJwb3AiLCJQYXJ0aWNsZSIsIl9uZXh0SWQiLCJjYW5BZGQiLCJlIiwid2FybmluZyIsInpJZHgiLCJkZWxldGVDb3VudCIsInNwbGljZSIsIk1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particles.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Retina.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Retina.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Retina: function() { return /* binding */ Retina; }\n/* harmony export */ });\n/* harmony import */ var _Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/NumberUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/NumberUtils.js\");\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n\n\nconst defaultRatio = 1, defaultReduceFactor = 1;\nclass Retina {\n    init() {\n        const container = this.container, options = container.actualOptions;\n        this.pixelRatio = !options.detectRetina || (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.isSsr)() ? defaultRatio : window.devicePixelRatio;\n        this.reduceFactor = defaultReduceFactor;\n        const ratio = this.pixelRatio, canvas = container.canvas;\n        if (canvas.element) {\n            const element = canvas.element;\n            canvas.size.width = element.offsetWidth * ratio;\n            canvas.size.height = element.offsetHeight * ratio;\n        }\n        const particles = options.particles, moveOptions = particles.move;\n        this.maxSpeed = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.gravity.maxSpeed) * ratio;\n        this.sizeAnimationSpeed = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(particles.size.animation.speed) * ratio;\n    }\n    initParticle(particle) {\n        const options = particle.options, ratio = this.pixelRatio, moveOptions = options.move, moveDistance = moveOptions.distance, props = particle.retina;\n        props.moveDrift = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.drift) * ratio;\n        props.moveSpeed = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.speed) * ratio;\n        props.sizeAnimationSpeed = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(options.size.animation.speed) * ratio;\n        const maxDistance = props.maxDistance;\n        maxDistance.horizontal = moveDistance.horizontal !== undefined ? moveDistance.horizontal * ratio : undefined;\n        maxDistance.vertical = moveDistance.vertical !== undefined ? moveDistance.vertical * ratio : undefined;\n        props.maxSpeed = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.gravity.maxSpeed) * ratio;\n    }\n    constructor(container){\n        this.container = container;\n        this.pixelRatio = defaultRatio;\n        this.reduceFactor = defaultReduceFactor;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9SZXRpbmEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ2Q7QUFDMUMsTUFBTUUsZUFBZSxHQUFHQyxzQkFBc0I7QUFDdkMsTUFBTUM7SUFNVEMsT0FBTztRQUNILE1BQU1DLFlBQVksSUFBSSxDQUFDQSxTQUFTLEVBQUVDLFVBQVVELFVBQVVFLGFBQWE7UUFDbkUsSUFBSSxDQUFDQyxVQUFVLEdBQUcsQ0FBQ0YsUUFBUUcsWUFBWSxJQUFJVCxzREFBS0EsS0FBS0MsZUFBZVMsT0FBT0MsZ0JBQWdCO1FBQzNGLElBQUksQ0FBQ0MsWUFBWSxHQUFHVjtRQUNwQixNQUFNVyxRQUFRLElBQUksQ0FBQ0wsVUFBVSxFQUFFTSxTQUFTVCxVQUFVUyxNQUFNO1FBQ3hELElBQUlBLE9BQU9DLE9BQU8sRUFBRTtZQUNoQixNQUFNQSxVQUFVRCxPQUFPQyxPQUFPO1lBQzlCRCxPQUFPRSxJQUFJLENBQUNDLEtBQUssR0FBR0YsUUFBUUcsV0FBVyxHQUFHTDtZQUMxQ0MsT0FBT0UsSUFBSSxDQUFDRyxNQUFNLEdBQUdKLFFBQVFLLFlBQVksR0FBR1A7UUFDaEQ7UUFDQSxNQUFNUSxZQUFZZixRQUFRZSxTQUFTLEVBQUVDLGNBQWNELFVBQVVFLElBQUk7UUFDakUsSUFBSSxDQUFDQyxRQUFRLEdBQUd6QixvRUFBYUEsQ0FBQ3VCLFlBQVlHLE9BQU8sQ0FBQ0QsUUFBUSxJQUFJWDtRQUM5RCxJQUFJLENBQUNhLGtCQUFrQixHQUFHM0Isb0VBQWFBLENBQUNzQixVQUFVTCxJQUFJLENBQUNXLFNBQVMsQ0FBQ0MsS0FBSyxJQUFJZjtJQUM5RTtJQUNBZ0IsYUFBYUMsUUFBUSxFQUFFO1FBQ25CLE1BQU14QixVQUFVd0IsU0FBU3hCLE9BQU8sRUFBRU8sUUFBUSxJQUFJLENBQUNMLFVBQVUsRUFBRWMsY0FBY2hCLFFBQVFpQixJQUFJLEVBQUVRLGVBQWVULFlBQVlVLFFBQVEsRUFBRUMsUUFBUUgsU0FBU0ksTUFBTTtRQUNuSkQsTUFBTUUsU0FBUyxHQUFHcEMsb0VBQWFBLENBQUN1QixZQUFZYyxLQUFLLElBQUl2QjtRQUNyRG9CLE1BQU1JLFNBQVMsR0FBR3RDLG9FQUFhQSxDQUFDdUIsWUFBWU0sS0FBSyxJQUFJZjtRQUNyRG9CLE1BQU1QLGtCQUFrQixHQUFHM0Isb0VBQWFBLENBQUNPLFFBQVFVLElBQUksQ0FBQ1csU0FBUyxDQUFDQyxLQUFLLElBQUlmO1FBQ3pFLE1BQU15QixjQUFjTCxNQUFNSyxXQUFXO1FBQ3JDQSxZQUFZQyxVQUFVLEdBQUdSLGFBQWFRLFVBQVUsS0FBS0MsWUFBWVQsYUFBYVEsVUFBVSxHQUFHMUIsUUFBUTJCO1FBQ25HRixZQUFZRyxRQUFRLEdBQUdWLGFBQWFVLFFBQVEsS0FBS0QsWUFBWVQsYUFBYVUsUUFBUSxHQUFHNUIsUUFBUTJCO1FBQzdGUCxNQUFNVCxRQUFRLEdBQUd6QixvRUFBYUEsQ0FBQ3VCLFlBQVlHLE9BQU8sQ0FBQ0QsUUFBUSxJQUFJWDtJQUNuRTtJQTVCQTZCLFlBQVlyQyxTQUFTLENBQUU7UUFDbkIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0csVUFBVSxHQUFHUDtRQUNsQixJQUFJLENBQUNXLFlBQVksR0FBR1Y7SUFDeEI7QUF5QkoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9lbmdpbmUvYnJvd3Nlci9Db3JlL1JldGluYS5qcz9kOTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFJhbmdlVmFsdWUgfSBmcm9tIFwiLi4vVXRpbHMvTnVtYmVyVXRpbHMuanNcIjtcbmltcG9ydCB7IGlzU3NyIH0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzLmpzXCI7XG5jb25zdCBkZWZhdWx0UmF0aW8gPSAxLCBkZWZhdWx0UmVkdWNlRmFjdG9yID0gMTtcbmV4cG9ydCBjbGFzcyBSZXRpbmEge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gZGVmYXVsdFJhdGlvO1xuICAgICAgICB0aGlzLnJlZHVjZUZhY3RvciA9IGRlZmF1bHRSZWR1Y2VGYWN0b3I7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9ICFvcHRpb25zLmRldGVjdFJldGluYSB8fCBpc1NzcigpID8gZGVmYXVsdFJhdGlvIDogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMucmVkdWNlRmFjdG9yID0gZGVmYXVsdFJlZHVjZUZhY3RvcjtcbiAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLnBpeGVsUmF0aW8sIGNhbnZhcyA9IGNvbnRhaW5lci5jYW52YXM7XG4gICAgICAgIGlmIChjYW52YXMuZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNhbnZhcy5lbGVtZW50O1xuICAgICAgICAgICAgY2FudmFzLnNpemUud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoICogcmF0aW87XG4gICAgICAgICAgICBjYW52YXMuc2l6ZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAqIHJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnRpY2xlcyA9IG9wdGlvbnMucGFydGljbGVzLCBtb3ZlT3B0aW9ucyA9IHBhcnRpY2xlcy5tb3ZlO1xuICAgICAgICB0aGlzLm1heFNwZWVkID0gZ2V0UmFuZ2VWYWx1ZShtb3ZlT3B0aW9ucy5ncmF2aXR5Lm1heFNwZWVkKSAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNpemVBbmltYXRpb25TcGVlZCA9IGdldFJhbmdlVmFsdWUocGFydGljbGVzLnNpemUuYW5pbWF0aW9uLnNwZWVkKSAqIHJhdGlvO1xuICAgIH1cbiAgICBpbml0UGFydGljbGUocGFydGljbGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnMsIHJhdGlvID0gdGhpcy5waXhlbFJhdGlvLCBtb3ZlT3B0aW9ucyA9IG9wdGlvbnMubW92ZSwgbW92ZURpc3RhbmNlID0gbW92ZU9wdGlvbnMuZGlzdGFuY2UsIHByb3BzID0gcGFydGljbGUucmV0aW5hO1xuICAgICAgICBwcm9wcy5tb3ZlRHJpZnQgPSBnZXRSYW5nZVZhbHVlKG1vdmVPcHRpb25zLmRyaWZ0KSAqIHJhdGlvO1xuICAgICAgICBwcm9wcy5tb3ZlU3BlZWQgPSBnZXRSYW5nZVZhbHVlKG1vdmVPcHRpb25zLnNwZWVkKSAqIHJhdGlvO1xuICAgICAgICBwcm9wcy5zaXplQW5pbWF0aW9uU3BlZWQgPSBnZXRSYW5nZVZhbHVlKG9wdGlvbnMuc2l6ZS5hbmltYXRpb24uc3BlZWQpICogcmF0aW87XG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlID0gcHJvcHMubWF4RGlzdGFuY2U7XG4gICAgICAgIG1heERpc3RhbmNlLmhvcml6b250YWwgPSBtb3ZlRGlzdGFuY2UuaG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkID8gbW92ZURpc3RhbmNlLmhvcml6b250YWwgKiByYXRpbyA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWF4RGlzdGFuY2UudmVydGljYWwgPSBtb3ZlRGlzdGFuY2UudmVydGljYWwgIT09IHVuZGVmaW5lZCA/IG1vdmVEaXN0YW5jZS52ZXJ0aWNhbCAqIHJhdGlvIDogdW5kZWZpbmVkO1xuICAgICAgICBwcm9wcy5tYXhTcGVlZCA9IGdldFJhbmdlVmFsdWUobW92ZU9wdGlvbnMuZ3Jhdml0eS5tYXhTcGVlZCkgKiByYXRpbztcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0UmFuZ2VWYWx1ZSIsImlzU3NyIiwiZGVmYXVsdFJhdGlvIiwiZGVmYXVsdFJlZHVjZUZhY3RvciIsIlJldGluYSIsImluaXQiLCJjb250YWluZXIiLCJvcHRpb25zIiwiYWN0dWFsT3B0aW9ucyIsInBpeGVsUmF0aW8iLCJkZXRlY3RSZXRpbmEiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwicmVkdWNlRmFjdG9yIiwicmF0aW8iLCJjYW52YXMiLCJlbGVtZW50Iiwic2l6ZSIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJwYXJ0aWNsZXMiLCJtb3ZlT3B0aW9ucyIsIm1vdmUiLCJtYXhTcGVlZCIsImdyYXZpdHkiLCJzaXplQW5pbWF0aW9uU3BlZWQiLCJhbmltYXRpb24iLCJzcGVlZCIsImluaXRQYXJ0aWNsZSIsInBhcnRpY2xlIiwibW92ZURpc3RhbmNlIiwiZGlzdGFuY2UiLCJwcm9wcyIsInJldGluYSIsIm1vdmVEcmlmdCIsImRyaWZ0IiwibW92ZVNwZWVkIiwibWF4RGlzdGFuY2UiLCJob3Jpem9udGFsIiwidW5kZWZpbmVkIiwidmVydGljYWwiLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Retina.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventListeners: function() { return /* binding */ EventListeners; }\n/* harmony export */ });\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Constants.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Constants.js\");\n/* harmony import */ var _Utils_TypeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Utils/TypeUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/TypeUtils.js\");\n\n\n\nconst double = 2;\nfunction manageListener(element, event, handler, add, options) {\n    if (add) {\n        let addOptions = {\n            passive: true\n        };\n        if ((0,_Utils_TypeUtils_js__WEBPACK_IMPORTED_MODULE_2__.isBoolean)(options)) {\n            addOptions.capture = options;\n        } else if (options !== undefined) {\n            addOptions = options;\n        }\n        element.addEventListener(event, handler, addOptions);\n    } else {\n        const removeOptions = options;\n        element.removeEventListener(event, handler, removeOptions);\n    }\n}\nclass EventListeners {\n    addListeners() {\n        this._manageListeners(true);\n    }\n    removeListeners() {\n        this._manageListeners(false);\n    }\n    constructor(container){\n        this.container = container;\n        this._doMouseTouchClick = (e)=>{\n            const container = this.container, options = container.actualOptions;\n            if (this._canPush) {\n                const mouseInteractivity = container.interactivity.mouse, mousePos = mouseInteractivity.position;\n                if (!mousePos) {\n                    return;\n                }\n                mouseInteractivity.clickPosition = {\n                    ...mousePos\n                };\n                mouseInteractivity.clickTime = new Date().getTime();\n                const onClick = options.interactivity.events.onClick;\n                (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__.executeOnSingleOrMultiple)(onClick.mode, (mode)=>this.container.handleClickMode(mode));\n            }\n            if (e.type === \"touchend\") {\n                const touchDelay = 500;\n                setTimeout(()=>this._mouseTouchFinish(), touchDelay);\n            }\n        };\n        this._handleThemeChange = (e)=>{\n            const mediaEvent = e, container = this.container, options = container.options, defaultThemes = options.defaultThemes, themeName = mediaEvent.matches ? defaultThemes.dark : defaultThemes.light, theme = options.themes.find((theme)=>theme.name === themeName);\n            if (theme && theme.default.auto) {\n                void container.loadTheme(themeName);\n            }\n        };\n        this._handleVisibilityChange = ()=>{\n            const container = this.container, options = container.actualOptions;\n            this._mouseTouchFinish();\n            if (!options.pauseOnBlur) {\n                return;\n            }\n            if (document && document.hidden) {\n                container.pageHidden = true;\n                container.pause();\n            } else {\n                container.pageHidden = false;\n                if (container.animationStatus) {\n                    void container.play(true);\n                } else {\n                    void container.draw(true);\n                }\n            }\n        };\n        this._handleWindowResize = ()=>{\n            if (this._resizeTimeout) {\n                clearTimeout(this._resizeTimeout);\n                delete this._resizeTimeout;\n            }\n            const handleResize = async ()=>{\n                const canvas = this.container.canvas;\n                await (canvas === null || canvas === void 0 ? void 0 : canvas.windowResize());\n            };\n            this._resizeTimeout = setTimeout(()=>void handleResize(), this.container.actualOptions.interactivity.events.resize.delay * _Constants_js__WEBPACK_IMPORTED_MODULE_1__.millisecondsToSeconds);\n        };\n        this._manageInteractivityListeners = (mouseLeaveTmpEvent, add)=>{\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            const interactivityEl = container.interactivity.element;\n            if (!interactivityEl) {\n                return;\n            }\n            const html = interactivityEl, canvasEl = container.canvas.element;\n            if (canvasEl) {\n                canvasEl.style.pointerEvents = html === canvasEl ? \"initial\" : \"none\";\n            }\n            if (!(options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable)) {\n                return;\n            }\n            manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseMoveEvent, handlers.mouseMove, add);\n            manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.touchStartEvent, handlers.touchStart, add);\n            manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.touchMoveEvent, handlers.touchMove, add);\n            if (!options.interactivity.events.onClick.enable) {\n                manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.touchEndEvent, handlers.touchEnd, add);\n            } else {\n                manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.touchEndEvent, handlers.touchEndClick, add);\n                manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseUpEvent, handlers.mouseUp, add);\n                manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseDownEvent, handlers.mouseDown, add);\n            }\n            manageListener(interactivityEl, mouseLeaveTmpEvent, handlers.mouseLeave, add);\n            manageListener(interactivityEl, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.touchCancelEvent, handlers.touchCancel, add);\n        };\n        this._manageListeners = (add)=>{\n            const handlers = this._handlers, container = this.container, options = container.actualOptions, detectType = options.interactivity.detectsOn, canvasEl = container.canvas.element;\n            let mouseLeaveTmpEvent = _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseLeaveEvent;\n            if (detectType === \"window\") {\n                container.interactivity.element = window;\n                mouseLeaveTmpEvent = _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseOutEvent;\n            } else if (detectType === \"parent\" && canvasEl) {\n                var _canvasEl_parentElement;\n                container.interactivity.element = (_canvasEl_parentElement = canvasEl.parentElement) !== null && _canvasEl_parentElement !== void 0 ? _canvasEl_parentElement : canvasEl.parentNode;\n            } else {\n                container.interactivity.element = canvasEl;\n            }\n            this._manageMediaMatch(add);\n            this._manageResize(add);\n            this._manageInteractivityListeners(mouseLeaveTmpEvent, add);\n            if (document) {\n                manageListener(document, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.visibilityChangeEvent, handlers.visibilityChange, add, false);\n            }\n        };\n        this._manageMediaMatch = (add)=>{\n            const handlers = this._handlers, mediaMatch = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__.safeMatchMedia)(\"(prefers-color-scheme: dark)\");\n            if (!mediaMatch) {\n                return;\n            }\n            if (mediaMatch.addEventListener !== undefined) {\n                manageListener(mediaMatch, \"change\", handlers.themeChange, add);\n                return;\n            }\n            if (mediaMatch.addListener === undefined) {\n                return;\n            }\n            if (add) {\n                mediaMatch.addListener(handlers.oldThemeChange);\n            } else {\n                mediaMatch.removeListener(handlers.oldThemeChange);\n            }\n        };\n        this._manageResize = (add)=>{\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            if (!options.interactivity.events.resize) {\n                return;\n            }\n            if (typeof ResizeObserver === \"undefined\") {\n                manageListener(window, _Constants_js__WEBPACK_IMPORTED_MODULE_1__.resizeEvent, handlers.resize, add);\n                return;\n            }\n            const canvasEl = container.canvas.element;\n            if (this._resizeObserver && !add) {\n                if (canvasEl) {\n                    this._resizeObserver.unobserve(canvasEl);\n                }\n                this._resizeObserver.disconnect();\n                delete this._resizeObserver;\n            } else if (!this._resizeObserver && add && canvasEl) {\n                this._resizeObserver = new ResizeObserver((entries)=>{\n                    const entry = entries.find((e)=>e.target === canvasEl);\n                    if (!entry) {\n                        return;\n                    }\n                    this._handleWindowResize();\n                });\n                this._resizeObserver.observe(canvasEl);\n            }\n        };\n        this._mouseDown = ()=>{\n            const { interactivity } = this.container;\n            if (!interactivity) {\n                return;\n            }\n            const { mouse } = interactivity;\n            mouse.clicking = true;\n            mouse.downPosition = mouse.position;\n        };\n        this._mouseTouchClick = (e)=>{\n            const container = this.container, options = container.actualOptions, { mouse } = container.interactivity;\n            mouse.inside = true;\n            let handled = false;\n            const mousePosition = mouse.position;\n            if (!mousePosition || !options.interactivity.events.onClick.enable) {\n                return;\n            }\n            for (const [, plugin] of container.plugins){\n                if (!plugin.clickPositionValid) {\n                    continue;\n                }\n                handled = plugin.clickPositionValid(mousePosition);\n                if (handled) {\n                    break;\n                }\n            }\n            if (!handled) {\n                this._doMouseTouchClick(e);\n            }\n            mouse.clicking = false;\n        };\n        this._mouseTouchFinish = ()=>{\n            const interactivity = this.container.interactivity;\n            if (!interactivity) {\n                return;\n            }\n            const mouse = interactivity.mouse;\n            delete mouse.position;\n            delete mouse.clickPosition;\n            delete mouse.downPosition;\n            interactivity.status = _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseLeaveEvent;\n            mouse.inside = false;\n            mouse.clicking = false;\n        };\n        this._mouseTouchMove = (e)=>{\n            const container = this.container, options = container.actualOptions, interactivity = container.interactivity, canvasEl = container.canvas.element;\n            if (!(interactivity === null || interactivity === void 0 ? void 0 : interactivity.element)) {\n                return;\n            }\n            interactivity.mouse.inside = true;\n            let pos;\n            if (e.type.startsWith(\"pointer\")) {\n                this._canPush = true;\n                const mouseEvent = e;\n                if (interactivity.element === window) {\n                    if (canvasEl) {\n                        const clientRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.clientX - clientRect.left,\n                            y: mouseEvent.clientY - clientRect.top\n                        };\n                    }\n                } else if (options.interactivity.detectsOn === \"parent\") {\n                    const source = mouseEvent.target, target = mouseEvent.currentTarget;\n                    if (source && target && canvasEl) {\n                        const sourceRect = source.getBoundingClientRect(), targetRect = target.getBoundingClientRect(), canvasRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.offsetX + double * sourceRect.left - (targetRect.left + canvasRect.left),\n                            y: mouseEvent.offsetY + double * sourceRect.top - (targetRect.top + canvasRect.top)\n                        };\n                    } else {\n                        var _mouseEvent_offsetX, _mouseEvent_offsetY;\n                        pos = {\n                            x: (_mouseEvent_offsetX = mouseEvent.offsetX) !== null && _mouseEvent_offsetX !== void 0 ? _mouseEvent_offsetX : mouseEvent.clientX,\n                            y: (_mouseEvent_offsetY = mouseEvent.offsetY) !== null && _mouseEvent_offsetY !== void 0 ? _mouseEvent_offsetY : mouseEvent.clientY\n                        };\n                    }\n                } else if (mouseEvent.target === canvasEl) {\n                    var _mouseEvent_offsetX1, _mouseEvent_offsetY1;\n                    pos = {\n                        x: (_mouseEvent_offsetX1 = mouseEvent.offsetX) !== null && _mouseEvent_offsetX1 !== void 0 ? _mouseEvent_offsetX1 : mouseEvent.clientX,\n                        y: (_mouseEvent_offsetY1 = mouseEvent.offsetY) !== null && _mouseEvent_offsetY1 !== void 0 ? _mouseEvent_offsetY1 : mouseEvent.clientY\n                    };\n                }\n            } else {\n                this._canPush = e.type !== \"touchmove\";\n                if (canvasEl) {\n                    const touchEvent = e, lengthOffset = 1, lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset], canvasRect = canvasEl.getBoundingClientRect(), defaultCoordinate = 0;\n                    var _canvasRect_left, _canvasRect_top;\n                    pos = {\n                        x: lastTouch.clientX - ((_canvasRect_left = canvasRect.left) !== null && _canvasRect_left !== void 0 ? _canvasRect_left : defaultCoordinate),\n                        y: lastTouch.clientY - ((_canvasRect_top = canvasRect.top) !== null && _canvasRect_top !== void 0 ? _canvasRect_top : defaultCoordinate)\n                    };\n                }\n            }\n            const pxRatio = container.retina.pixelRatio;\n            if (pos) {\n                pos.x *= pxRatio;\n                pos.y *= pxRatio;\n            }\n            interactivity.mouse.position = pos;\n            interactivity.status = _Constants_js__WEBPACK_IMPORTED_MODULE_1__.mouseMoveEvent;\n        };\n        this._touchEnd = (e)=>{\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches){\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchFinish();\n        };\n        this._touchEndClick = (e)=>{\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches){\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchClick(e);\n        };\n        this._touchStart = (e)=>{\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches){\n                this._touches.set(touch.identifier, performance.now());\n            }\n            this._mouseTouchMove(e);\n        };\n        this._canPush = true;\n        this._touches = new Map();\n        this._handlers = {\n            mouseDown: ()=>this._mouseDown(),\n            mouseLeave: ()=>this._mouseTouchFinish(),\n            mouseMove: (e)=>this._mouseTouchMove(e),\n            mouseUp: (e)=>this._mouseTouchClick(e),\n            touchStart: (e)=>this._touchStart(e),\n            touchMove: (e)=>this._mouseTouchMove(e),\n            touchEnd: (e)=>this._touchEnd(e),\n            touchCancel: (e)=>this._touchEnd(e),\n            touchEndClick: (e)=>this._touchEndClick(e),\n            visibilityChange: ()=>this._handleVisibilityChange(),\n            themeChange: (e)=>this._handleThemeChange(e),\n            oldThemeChange: (e)=>this._handleThemeChange(e),\n            resize: ()=>{\n                this._handleWindowResize();\n            }\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9VdGlscy9FdmVudExpc3RlbmVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlGO0FBQzJKO0FBQ3ZMO0FBQ3JELE1BQU1lLFNBQVM7QUFDZixTQUFTQyxlQUFlQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLE9BQU87SUFDekQsSUFBSUQsS0FBSztRQUNMLElBQUlFLGFBQWE7WUFBRUMsU0FBUztRQUFLO1FBQ2pDLElBQUlULDhEQUFTQSxDQUFDTyxVQUFVO1lBQ3BCQyxXQUFXRSxPQUFPLEdBQUdIO1FBQ3pCLE9BQ0ssSUFBSUEsWUFBWUksV0FBVztZQUM1QkgsYUFBYUQ7UUFDakI7UUFDQUosUUFBUVMsZ0JBQWdCLENBQUNSLE9BQU9DLFNBQVNHO0lBQzdDLE9BQ0s7UUFDRCxNQUFNSyxnQkFBZ0JOO1FBQ3RCSixRQUFRVyxtQkFBbUIsQ0FBQ1YsT0FBT0MsU0FBU1E7SUFDaEQ7QUFDSjtBQUNPLE1BQU1FO0lBd1NUQyxlQUFlO1FBQ1gsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQztJQUMxQjtJQUNBQyxrQkFBa0I7UUFDZCxJQUFJLENBQUNELGdCQUFnQixDQUFDO0lBQzFCO0lBNVNBRSxZQUFZQyxTQUFTLENBQUU7UUFDbkIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsQ0FBQ0M7WUFDdkIsTUFBTUYsWUFBWSxJQUFJLENBQUNBLFNBQVMsRUFBRWIsVUFBVWEsVUFBVUcsYUFBYTtZQUNuRSxJQUFJLElBQUksQ0FBQ0MsUUFBUSxFQUFFO2dCQUNmLE1BQU1DLHFCQUFxQkwsVUFBVU0sYUFBYSxDQUFDQyxLQUFLLEVBQUVDLFdBQVdILG1CQUFtQkksUUFBUTtnQkFDaEcsSUFBSSxDQUFDRCxVQUFVO29CQUNYO2dCQUNKO2dCQUNBSCxtQkFBbUJLLGFBQWEs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Q3ZHO1FBQ3pCO1FBQ0EsSUFBSSxDQUFDRSxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDdUksUUFBUSxHQUFHLElBQUlRO1FBQ3BCLElBQUksQ0FBQzNGLFNBQVMsR0FBRztZQUNiYyxXQUFXLElBQU0sSUFBSSxDQUFDd0IsVUFBVTtZQUNoQ3ZCLFlBQVksSUFBTSxJQUFJLENBQUNsRCxpQkFBaUI7WUFDeEMyQyxXQUFXLENBQUM5RCxJQUFNLElBQUksQ0FBQ3VHLGVBQWUsQ0FBQ3ZHO1lBQ3ZDbUUsU0FBUyxDQUFDbkUsSUFBTSxJQUFJLENBQUMrRixnQkFBZ0IsQ0FBQy9GO1lBQ3RDK0QsWUFBWSxDQUFDL0QsSUFBTSxJQUFJLENBQUM2SSxXQUFXLENBQUM3STtZQUNwQ2dFLFdBQVcsQ0FBQ2hFLElBQU0sSUFBSSxDQUFDdUcsZUFBZSxDQUFDdkc7WUFDdkNpRSxVQUFVLENBQUNqRSxJQUFNLElBQUksQ0FBQ21JLFNBQVMsQ0FBQ25JO1lBQ2hDc0UsYUFBYSxDQUFDdEUsSUFBTSxJQUFJLENBQUNtSSxTQUFTLENBQUNuSTtZQUNuQ2tFLGVBQWUsQ0FBQ2xFLElBQU0sSUFBSSxDQUFDNEksY0FBYyxDQUFDNUk7WUFDMUM4RSxrQkFBa0IsSUFBTSxJQUFJLENBQUM1Qyx1QkFBdUI7WUFDcEQ4QyxhQUFhLENBQUNoRixJQUFNLElBQUksQ0FBQ29CLGtCQUFrQixDQUFDcEI7WUFDNUNrRixnQkFBZ0IsQ0FBQ2xGLElBQU0sSUFBSSxDQUFDb0Isa0JBQWtCLENBQUNwQjtZQUMvQ2lELFFBQVE7Z0JBQ0osSUFBSSxDQUFDTixtQkFBbUI7WUFDNUI7UUFDSjtJQUNKO0FBT0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9lbmdpbmUvYnJvd3Nlci9Db3JlL1V0aWxzL0V2ZW50TGlzdGVuZXJzLmpzPzliNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhlY3V0ZU9uU2luZ2xlT3JNdWx0aXBsZSwgc2FmZU1hdGNoTWVkaWEgfSBmcm9tIFwiLi4vLi4vVXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcywgbW91c2VEb3duRXZlbnQsIG1vdXNlTGVhdmVFdmVudCwgbW91c2VNb3ZlRXZlbnQsIG1vdXNlT3V0RXZlbnQsIG1vdXNlVXBFdmVudCwgcmVzaXplRXZlbnQsIHRvdWNoQ2FuY2VsRXZlbnQsIHRvdWNoRW5kRXZlbnQsIHRvdWNoTW92ZUV2ZW50LCB0b3VjaFN0YXJ0RXZlbnQsIHZpc2liaWxpdHlDaGFuZ2VFdmVudCwgfSBmcm9tIFwiLi9Db25zdGFudHMuanNcIjtcbmltcG9ydCB7IGlzQm9vbGVhbiB9IGZyb20gXCIuLi8uLi9VdGlscy9UeXBlVXRpbHMuanNcIjtcbmNvbnN0IGRvdWJsZSA9IDI7XG5mdW5jdGlvbiBtYW5hZ2VMaXN0ZW5lcihlbGVtZW50LCBldmVudCwgaGFuZGxlciwgYWRkLCBvcHRpb25zKSB7XG4gICAgaWYgKGFkZCkge1xuICAgICAgICBsZXQgYWRkT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgICAgICBpZiAoaXNCb29sZWFuKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBhZGRPcHRpb25zLmNhcHR1cmUgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWRkT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBhZGRPcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIHJlbW92ZU9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudExpc3RlbmVycyB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLl9kb01vdXNlVG91Y2hDbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhblB1c2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZUludGVyYWN0aXZpdHkgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZSwgbW91c2VQb3MgPSBtb3VzZUludGVyYWN0aXZpdHkucG9zaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZVBvcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vdXNlSW50ZXJhY3Rpdml0eS5jbGlja1Bvc2l0aW9uID0geyAuLi5tb3VzZVBvcyB9O1xuICAgICAgICAgICAgICAgIG1vdXNlSW50ZXJhY3Rpdml0eS5jbGlja1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvbkNsaWNrID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkNsaWNrO1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVPblNpbmdsZU9yTXVsdGlwbGUob25DbGljay5tb2RlLCAobW9kZSkgPT4gdGhpcy5jb250YWluZXIuaGFuZGxlQ2xpY2tNb2RlKG1vZGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoRGVsYXkgPSA1MDA7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9tb3VzZVRvdWNoRmluaXNoKCksIHRvdWNoRGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9oYW5kbGVUaGVtZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZWRpYUV2ZW50ID0gZSwgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIub3B0aW9ucywgZGVmYXVsdFRoZW1lcyA9IG9wdGlvbnMuZGVmYXVsdFRoZW1lcywgdGhlbWVOYW1lID0gbWVkaWFFdmVudC5tYXRjaGVzID8gZGVmYXVsdFRoZW1lcy5kYXJrIDogZGVmYXVsdFRoZW1lcy5saWdodCwgdGhlbWUgPSBvcHRpb25zLnRoZW1lcy5maW5kKCh0aGVtZSkgPT4gdGhlbWUubmFtZSA9PT0gdGhlbWVOYW1lKTtcbiAgICAgICAgICAgIGlmICh0aGVtZSAmJiB0aGVtZS5kZWZhdWx0LmF1dG8pIHtcbiAgICAgICAgICAgICAgICB2b2lkIGNvbnRhaW5lci5sb2FkVGhlbWUodGhlbWVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZVRvdWNoRmluaXNoKCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGF1c2VPbkJsdXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnBhZ2VIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnBhZ2VIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmFuaW1hdGlvblN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIGNvbnRhaW5lci5wbGF5KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBjb250YWluZXIuZHJhdyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNpemVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZXNpemVUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUmVzaXplID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY29udGFpbmVyLmNhbnZhcztcbiAgICAgICAgICAgICAgICBhd2FpdCBjYW52YXM/LndpbmRvd1Jlc2l6ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHZvaWQgaGFuZGxlUmVzaXplKCksIHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMucmVzaXplLmRlbGF5ICogbWlsbGlzZWNvbmRzVG9TZWNvbmRzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWFuYWdlSW50ZXJhY3Rpdml0eUxpc3RlbmVycyA9IChtb3VzZUxlYXZlVG1wRXZlbnQsIGFkZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLl9oYW5kbGVycywgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aXZpdHlFbCA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWludGVyYWN0aXZpdHlFbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBpbnRlcmFjdGl2aXR5RWwsIGNhbnZhc0VsID0gY29udGFpbmVyLmNhbnZhcy5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGNhbnZhc0VsKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUucG9pbnRlckV2ZW50cyA9IGh0bWwgPT09IGNhbnZhc0VsID8gXCJpbml0aWFsXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5lbmFibGUgfHwgb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkNsaWNrLmVuYWJsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIG1vdXNlTW92ZUV2ZW50LCBoYW5kbGVycy5tb3VzZU1vdmUsIGFkZCk7XG4gICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIHRvdWNoU3RhcnRFdmVudCwgaGFuZGxlcnMudG91Y2hTdGFydCwgYWRkKTtcbiAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgdG91Y2hNb3ZlRXZlbnQsIGhhbmRsZXJzLnRvdWNoTW92ZSwgYWRkKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkNsaWNrLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgdG91Y2hFbmRFdmVudCwgaGFuZGxlcnMudG91Y2hFbmQsIGFkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIHRvdWNoRW5kRXZlbnQsIGhhbmRsZXJzLnRvdWNoRW5kQ2xpY2ssIGFkZCk7XG4gICAgICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIoaW50ZXJhY3Rpdml0eUVsLCBtb3VzZVVwRXZlbnQsIGhhbmRsZXJzLm1vdXNlVXAsIGFkZCk7XG4gICAgICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIoaW50ZXJhY3Rpdml0eUVsLCBtb3VzZURvd25FdmVudCwgaGFuZGxlcnMubW91c2VEb3duLCBhZGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIoaW50ZXJhY3Rpdml0eUVsLCBtb3VzZUxlYXZlVG1wRXZlbnQsIGhhbmRsZXJzLm1vdXNlTGVhdmUsIGFkZCk7XG4gICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIHRvdWNoQ2FuY2VsRXZlbnQsIGhhbmRsZXJzLnRvdWNoQ2FuY2VsLCBhZGQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9tYW5hZ2VMaXN0ZW5lcnMgPSAoYWRkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuX2hhbmRsZXJzLCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCBkZXRlY3RUeXBlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmRldGVjdHNPbiwgY2FudmFzRWwgPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgbW91c2VMZWF2ZVRtcEV2ZW50ID0gbW91c2VMZWF2ZUV2ZW50O1xuICAgICAgICAgICAgaWYgKGRldGVjdFR5cGUgPT09IFwid2luZG93XCIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5lbGVtZW50ID0gd2luZG93O1xuICAgICAgICAgICAgICAgIG1vdXNlTGVhdmVUbXBFdmVudCA9IG1vdXNlT3V0RXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkZXRlY3RUeXBlID09PSBcInBhcmVudFwiICYmIGNhbnZhc0VsKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmludGVyYWN0aXZpdHkuZWxlbWVudCA9IGNhbnZhc0VsLnBhcmVudEVsZW1lbnQgPz8gY2FudmFzRWwucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LmVsZW1lbnQgPSBjYW52YXNFbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hbmFnZU1lZGlhTWF0Y2goYWRkKTtcbiAgICAgICAgICAgIHRoaXMuX21hbmFnZVJlc2l6ZShhZGQpO1xuICAgICAgICAgICAgdGhpcy5fbWFuYWdlSW50ZXJhY3Rpdml0eUxpc3RlbmVycyhtb3VzZUxlYXZlVG1wRXZlbnQsIGFkZCk7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihkb2N1bWVudCwgdmlzaWJpbGl0eUNoYW5nZUV2ZW50LCBoYW5kbGVycy52aXNpYmlsaXR5Q2hhbmdlLCBhZGQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWFuYWdlTWVkaWFNYXRjaCA9IChhZGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5faGFuZGxlcnMsIG1lZGlhTWF0Y2ggPSBzYWZlTWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik7XG4gICAgICAgICAgICBpZiAoIW1lZGlhTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVkaWFNYXRjaC5hZGRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihtZWRpYU1hdGNoLCBcImNoYW5nZVwiLCBoYW5kbGVycy50aGVtZUNoYW5nZSwgYWRkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVkaWFNYXRjaC5hZGRMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgICAgIG1lZGlhTWF0Y2guYWRkTGlzdGVuZXIoaGFuZGxlcnMub2xkVGhlbWVDaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVkaWFNYXRjaC5yZW1vdmVMaXN0ZW5lcihoYW5kbGVycy5vbGRUaGVtZUNoYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX21hbmFnZVJlc2l6ZSA9IChhZGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5faGFuZGxlcnMsIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMucmVzaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKHdpbmRvdywgcmVzaXplRXZlbnQsIGhhbmRsZXJzLnJlc2l6ZSwgYWRkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYW52YXNFbCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNpemVPYnNlcnZlciAmJiAhYWRkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhc0VsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShjYW52YXNFbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5fcmVzaXplT2JzZXJ2ZXIgJiYgYWRkICYmIGNhbnZhc0VsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoKGUpID0+IGUudGFyZ2V0ID09PSBjYW52YXNFbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVPYnNlcnZlci5vYnNlcnZlKGNhbnZhc0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbW91c2VEb3duID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpbnRlcmFjdGl2aXR5IH0gPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIGlmICghaW50ZXJhY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgbW91c2UgfSA9IGludGVyYWN0aXZpdHk7XG4gICAgICAgICAgICBtb3VzZS5jbGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICBtb3VzZS5kb3duUG9zaXRpb24gPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbW91c2VUb3VjaENsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIHsgbW91c2UgfSA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5O1xuICAgICAgICAgICAgbW91c2UuaW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBoYW5kbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBtb3VzZVBvc2l0aW9uID0gbW91c2UucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIW1vdXNlUG9zaXRpb24gfHwgIW9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25DbGljay5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbi5jbGlja1Bvc2l0aW9uVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBwbHVnaW4uY2xpY2tQb3NpdGlvblZhbGlkKG1vdXNlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RvTW91c2VUb3VjaENsaWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW91c2UuY2xpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbW91c2VUb3VjaEZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aXZpdHkgPSB0aGlzLmNvbnRhaW5lci5pbnRlcmFjdGl2aXR5O1xuICAgICAgICAgICAgaWYgKCFpbnRlcmFjdGl2aXR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW91c2UgPSBpbnRlcmFjdGl2aXR5Lm1vdXNlO1xuICAgICAgICAgICAgZGVsZXRlIG1vdXNlLnBvc2l0aW9uO1xuICAgICAgICAgICAgZGVsZXRlIG1vdXNlLmNsaWNrUG9zaXRpb247XG4gICAgICAgICAgICBkZWxldGUgbW91c2UuZG93blBvc2l0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpdml0eS5zdGF0dXMgPSBtb3VzZUxlYXZlRXZlbnQ7XG4gICAgICAgICAgICBtb3VzZS5pbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vdXNlLmNsaWNraW5nID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX21vdXNlVG91Y2hNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIGludGVyYWN0aXZpdHkgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eSwgY2FudmFzRWwgPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWludGVyYWN0aXZpdHk/LmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2aXR5Lm1vdXNlLmluc2lkZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgcG9zO1xuICAgICAgICAgICAgaWYgKGUudHlwZS5zdGFydHNXaXRoKFwicG9pbnRlclwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhblB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlRXZlbnQgPSBlO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2aXR5LmVsZW1lbnQgPT09IHdpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSBjYW52YXNFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBtb3VzZUV2ZW50LmNsaWVudFggLSBjbGllbnRSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogbW91c2VFdmVudC5jbGllbnRZIC0gY2xpZW50UmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5kZXRlY3RzT24gPT09IFwicGFyZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbW91c2VFdmVudC50YXJnZXQsIHRhcmdldCA9IG1vdXNlRXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiB0YXJnZXQgJiYgY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVJlY3QgPSBzb3VyY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGNhbnZhc1JlY3QgPSBjYW52YXNFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBtb3VzZUV2ZW50Lm9mZnNldFggKyBkb3VibGUgKiBzb3VyY2VSZWN0LmxlZnQgLSAodGFyZ2V0UmVjdC5sZWZ0ICsgY2FudmFzUmVjdC5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBtb3VzZUV2ZW50Lm9mZnNldFkgKyBkb3VibGUgKiBzb3VyY2VSZWN0LnRvcCAtICh0YXJnZXRSZWN0LnRvcCArIGNhbnZhc1JlY3QudG9wKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogbW91c2VFdmVudC5vZmZzZXRYID8/IG1vdXNlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBtb3VzZUV2ZW50Lm9mZnNldFkgPz8gbW91c2VFdmVudC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3VzZUV2ZW50LnRhcmdldCA9PT0gY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogbW91c2VFdmVudC5vZmZzZXRYID8/IG1vdXNlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IG1vdXNlRXZlbnQub2Zmc2V0WSA/PyBtb3VzZUV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuUHVzaCA9IGUudHlwZSAhPT0gXCJ0b3VjaG1vdmVcIjtcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG91Y2hFdmVudCA9IGUsIGxlbmd0aE9mZnNldCA9IDEsIGxhc3RUb3VjaCA9IHRvdWNoRXZlbnQudG91Y2hlc1t0b3VjaEV2ZW50LnRvdWNoZXMubGVuZ3RoIC0gbGVuZ3RoT2Zmc2V0XSwgY2FudmFzUmVjdCA9IGNhbnZhc0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkZWZhdWx0Q29vcmRpbmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGxhc3RUb3VjaC5jbGllbnRYIC0gKGNhbnZhc1JlY3QubGVmdCA/PyBkZWZhdWx0Q29vcmRpbmF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBsYXN0VG91Y2guY2xpZW50WSAtIChjYW52YXNSZWN0LnRvcCA/PyBkZWZhdWx0Q29vcmRpbmF0ZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHhSYXRpbyA9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBwb3MueCAqPSBweFJhdGlvO1xuICAgICAgICAgICAgICAgIHBvcy55ICo9IHB4UmF0aW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uID0gcG9zO1xuICAgICAgICAgICAgaW50ZXJhY3Rpdml0eS5zdGF0dXMgPSBtb3VzZU1vdmVFdmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdG91Y2hFbmQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gZSwgdG91Y2hlcyA9IEFycmF5LmZyb20oZXZ0LmNoYW5nZWRUb3VjaGVzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG91Y2ggb2YgdG91Y2hlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoLmlkZW50aWZpZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW91c2VUb3VjaEZpbmlzaCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl90b3VjaEVuZENsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IGUsIHRvdWNoZXMgPSBBcnJheS5mcm9tKGV2dC5jaGFuZ2VkVG91Y2hlcyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvdWNoIG9mIHRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3VjaGVzLmRlbGV0ZSh0b3VjaC5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21vdXNlVG91Y2hDbGljayhlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdG91Y2hTdGFydCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSBlLCB0b3VjaGVzID0gQXJyYXkuZnJvbShldnQuY2hhbmdlZFRvdWNoZXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b3VjaCBvZiB0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG91Y2hlcy5zZXQodG91Y2guaWRlbnRpZmllciwgcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW91c2VUb3VjaE1vdmUoZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NhblB1c2ggPSB0cnVlO1xuICAgICAgICB0aGlzLl90b3VjaGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcbiAgICAgICAgICAgIG1vdXNlRG93bjogKCkgPT4gdGhpcy5fbW91c2VEb3duKCksXG4gICAgICAgICAgICBtb3VzZUxlYXZlOiAoKSA9PiB0aGlzLl9tb3VzZVRvdWNoRmluaXNoKCksXG4gICAgICAgICAgICBtb3VzZU1vdmU6IChlKSA9PiB0aGlzLl9tb3VzZVRvdWNoTW92ZShlKSxcbiAgICAgICAgICAgIG1vdXNlVXA6IChlKSA9PiB0aGlzLl9tb3VzZVRvdWNoQ2xpY2soZSksXG4gICAgICAgICAgICB0b3VjaFN0YXJ0OiAoZSkgPT4gdGhpcy5fdG91Y2hTdGFydChlKSxcbiAgICAgICAgICAgIHRvdWNoTW92ZTogKGUpID0+IHRoaXMuX21vdXNlVG91Y2hNb3ZlKGUpLFxuICAgICAgICAgICAgdG91Y2hFbmQ6IChlKSA9PiB0aGlzLl90b3VjaEVuZChlKSxcbiAgICAgICAgICAgIHRvdWNoQ2FuY2VsOiAoZSkgPT4gdGhpcy5fdG91Y2hFbmQoZSksXG4gICAgICAgICAgICB0b3VjaEVuZENsaWNrOiAoZSkgPT4gdGhpcy5fdG91Y2hFbmRDbGljayhlKSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2U6ICgpID0+IHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSxcbiAgICAgICAgICAgIHRoZW1lQ2hhbmdlOiAoZSkgPT4gdGhpcy5faGFuZGxlVGhlbWVDaGFuZ2UoZSksXG4gICAgICAgICAgICBvbGRUaGVtZUNoYW5nZTogKGUpID0+IHRoaXMuX2hhbmRsZVRoZW1lQ2hhbmdlKGUpLFxuICAgICAgICAgICAgcmVzaXplOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX21hbmFnZUxpc3RlbmVycyh0cnVlKTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9tYW5hZ2VMaXN0ZW5lcnMoZmFsc2UpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJleGVjdXRlT25TaW5nbGVPck11bHRpcGxlIiwic2FmZU1hdGNoTWVkaWEiLCJtaWxsaXNlY29uZHNUb1NlY29uZHMiLCJtb3VzZURvd25FdmVudCIsIm1vdXNlTGVhdmVFdmVudCIsIm1vdXNlTW92ZUV2ZW50IiwibW91c2VPdXRFdmVudCIsIm1vdXNlVXBFdmVudCIsInJlc2l6ZUV2ZW50IiwidG91Y2hDYW5jZWxFdmVudCIsInRvdWNoRW5kRXZlbnQiLCJ0b3VjaE1vdmVFdmVudCIsInRvdWNoU3RhcnRFdmVudCIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsImlzQm9vbGVhbiIsImRvdWJsZSIsIm1hbmFnZUxpc3RlbmVyIiwiZWxlbWVudCIsImV2ZW50IiwiaGFuZGxlciIsImFkZCIsIm9wdGlvbnMiLCJhZGRPcHRpb25zIiwicGFzc2l2ZSIsImNhcHR1cmUiLCJ1bmRlZmluZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlT3B0aW9ucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFdmVudExpc3RlbmVycyIsImFkZExpc3RlbmVycyIsIl9tYW5hZ2VMaXN0ZW5lcnMiLCJyZW1vdmVMaXN0ZW5lcnMiLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsIl9kb01vdXNlVG91Y2hDbGljayIsImUiLCJhY3R1YWxPcHRpb25zIiwiX2NhblB1c2giLCJtb3VzZUludGVyYWN0aXZpdHkiLCJpbnRlcmFjdGl2aXR5IiwibW91c2UiLCJtb3VzZVBvcyIsInBvc2l0aW9uIiwiY2xpY2tQb3NpdGlvbiIsImNsaWNrVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwib25DbGljayIsImV2ZW50cyIsIm1vZGUiLCJoYW5kbGVDbGlja01vZGUiLCJ0eXBlIiwidG91Y2hEZWxheSIsInNldFRpbWVvdXQiLCJfbW91c2VUb3VjaEZpbmlzaCIsIl9oYW5kbGVUaGVtZUNoYW5nZSIsIm1lZGlhRXZlbnQiLCJkZWZhdWx0VGhlbWVzIiwidGhlbWVOYW1lIiwibWF0Y2hlcyIsImRhcmsiLCJsaWdodCIsInRoZW1lIiwidGhlbWVzIiwiZmluZCIsIm5hbWUiLCJkZWZhdWx0IiwiYXV0byIsImxvYWRUaGVtZSIsIl9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwicGF1c2VPbkJsdXIiLCJkb2N1bWVudCIsImhpZGRlbiIsInBhZ2VIaWRkZW4iLCJwYXVzZSIsImFuaW1hdGlvblN0YXR1cyIsInBsYXkiLCJkcmF3IiwiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIsIl9yZXNpemVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlUmVzaXplIiwiY2FudmFzIiwid2luZG93UmVzaXplIiwicmVzaXplIiwiZGVsYXkiLCJfbWFuYWdlSW50ZXJhY3Rpdml0eUxpc3RlbmVycyIsIm1vdXNlTGVhdmVUbXBFdmVudCIsImhhbmRsZXJzIiwiX2hhbmRsZXJzIiwiaW50ZXJhY3Rpdml0eUVsIiwiaHRtbCIsImNhbnZhc0VsIiwic3R5bGUiLCJwb2ludGVyRXZlbnRzIiwib25Ib3ZlciIsImVuYWJsZSIsIm1vdXNlTW92ZSIsInRvdWNoU3RhcnQiLCJ0b3VjaE1vdmUiLCJ0b3VjaEVuZCIsInRvdWNoRW5kQ2xpY2siLCJtb3VzZVVwIiwibW91c2VEb3duIiwibW91c2VMZWF2ZSIsInRvdWNoQ2FuY2VsIiwiZGV0ZWN0VHlwZSIsImRldGVjdHNPbiIsIndpbmRvdyIsInBhcmVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwiX21hbmFnZU1lZGlhTWF0Y2giLCJfbWFuYWdlUmVzaXplIiwidmlzaWJpbGl0eUNoYW5nZSIsIm1lZGlhTWF0Y2giLCJ0aGVtZUNoYW5nZSIsImFkZExpc3RlbmVyIiwib2xkVGhlbWVDaGFuZ2UiLCJyZW1vdmVMaXN0ZW5lciIsIlJlc2l6ZU9ic2VydmVyIiwiX3Jlc2l6ZU9ic2VydmVyIiwidW5vYnNlcnZlIiwiZGlzY29ubmVjdCIsImVudHJpZXMiLCJlbnRyeSIsInRhcmdldCIsIm9ic2VydmUiLCJfbW91c2VEb3duIiwiY2xpY2tpbmciLCJkb3duUG9zaXRpb24iLCJfbW91c2VUb3VjaENsaWNrIiwiaW5zaWRlIiwiaGFuZGxlZCIsIm1vdXNlUG9zaXRpb24iLCJwbHVnaW4iLCJwbHVnaW5zIiwiY2xpY2tQb3NpdGlvblZhbGlkIiwic3RhdHVzIiwiX21vdXNlVG91Y2hNb3ZlIiwicG9zIiwic3RhcnRzV2l0aCIsIm1vdXNlRXZlbnQiLCJjbGllbnRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsImNsaWVudFgiLCJsZWZ0IiwieSIsImNsaWVudFkiLCJ0b3AiLCJzb3VyY2UiLCJjdXJyZW50VGFyZ2V0Iiwic291cmNlUmVjdCIsInRhcmdldFJlY3QiLCJjYW52YXNSZWN0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ0b3VjaEV2ZW50IiwibGVuZ3RoT2Zmc2V0IiwibGFzdFRvdWNoIiwidG91Y2hlcyIsImxlbmd0aCIsImRlZmF1bHRDb29yZGluYXRlIiwicHhSYXRpbyIsInJldGluYSIsInBpeGVsUmF0aW8iLCJfdG91Y2hFbmQiLCJldnQiLCJBcnJheSIsImZyb20iLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwiX3RvdWNoZXMiLCJkZWxldGUiLCJpZGVudGlmaWVyIiwiX3RvdWNoRW5kQ2xpY2siLCJfdG91Y2hTdGFydCIsInNldCIsInBlcmZvcm1hbmNlIiwibm93IiwiTWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InteractionManager: function() { return /* binding */ InteractionManager; }\n/* harmony export */ });\nclass InteractionManager {\n    async externalInteract(delta) {\n        for (const interactor of this._externalInteractors){\n            if (interactor.isEnabled()) {\n                await interactor.interact(delta);\n            }\n        }\n    }\n    handleClickMode(mode) {\n        for (const interactor of this._externalInteractors){\n            var _interactor_handleClickMode;\n            (_interactor_handleClickMode = interactor.handleClickMode) === null || _interactor_handleClickMode === void 0 ? void 0 : _interactor_handleClickMode.call(interactor, mode);\n        }\n    }\n    async init() {\n        this._interactors = await this._engine.getInteractors(this.container, true);\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n        for (const interactor of this._interactors){\n            switch(interactor.type){\n                case \"external\":\n                    this._externalInteractors.push(interactor);\n                    break;\n                case \"particles\":\n                    this._particleInteractors.push(interactor);\n                    break;\n            }\n            interactor.init();\n        }\n    }\n    async particlesInteract(particle, delta) {\n        for (const interactor of this._externalInteractors){\n            interactor.clear(particle, delta);\n        }\n        for (const interactor of this._particleInteractors){\n            if (interactor.isEnabled(particle)) {\n                await interactor.interact(particle, delta);\n            }\n        }\n    }\n    reset(particle) {\n        for (const interactor of this._externalInteractors){\n            if (interactor.isEnabled()) {\n                interactor.reset(particle);\n            }\n        }\n        for (const interactor of this._particleInteractors){\n            if (interactor.isEnabled(particle)) {\n                interactor.reset(particle);\n            }\n        }\n    }\n    constructor(engine, container){\n        this.container = container;\n        this._engine = engine;\n        this._interactors = [];\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9VdGlscy9JbnRlcmFjdGlvbk1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BO0lBUVQsTUFBTUMsaUJBQWlCQyxLQUFLLEVBQUU7UUFDMUIsS0FBSyxNQUFNQyxjQUFjLElBQUksQ0FBQ0Msb0JBQW9CLENBQUU7WUFDaEQsSUFBSUQsV0FBV0UsU0FBUyxJQUFJO2dCQUN4QixNQUFNRixXQUFXRyxRQUFRLENBQUNKO1lBQzlCO1FBQ0o7SUFDSjtJQUNBSyxnQkFBZ0JDLElBQUksRUFBRTtRQUNsQixLQUFLLE1BQU1MLGNBQWMsSUFBSSxDQUFDQyxvQkFBb0IsQ0FBRTtnQkFDaEREO2FBQUFBLDhCQUFBQSxXQUFXSSxlQUFlLGNBQTFCSixrREFBQUEsaUNBQUFBLFlBQTZCSztRQUNqQztJQUNKO0lBQ0EsTUFBTUMsT0FBTztRQUNULElBQUksQ0FBQ0MsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxPQUFPLENBQUNDLGNBQWMsQ0FBQyxJQUFJLENBQUNDLFNBQVMsRUFBRTtRQUN0RSxJQUFJLENBQUNULG9CQUFvQixHQUFHLEVBQUU7UUFDOUIsSUFBSSxDQUFDVSxvQkFBb0IsR0FBRyxFQUFFO1FBQzlCLEtBQUssTUFBTVgsY0FBYyxJQUFJLENBQUNPLFlBQVksQ0FBRTtZQUN4QyxPQUFRUCxXQUFXWSxJQUFJO2dCQUNuQixLQUFLO29CQUNELElBQUksQ0FBQ1gsb0JBQW9CLENBQUNZLElBQUksQ0FBQ2I7b0JBQy9CO2dCQUNKLEtBQUs7b0JBQ0QsSUFBSSxDQUFDVyxvQkFBb0IsQ0FBQ0UsSUFBSSxDQUFDYjtvQkFDL0I7WUFDUjtZQUNBQSxXQUFXTSxJQUFJO1FBQ25CO0lBQ0o7SUFDQSxNQUFNUSxrQkFBa0JDLFFBQVEsRUFBRWhCLEtBQUssRUFBRTtRQUNyQyxLQUFLLE1BQU1DLGNBQWMsSUFBSSxDQUFDQyxvQkFBb0IsQ0FBRTtZQUNoREQsV0FBV2dCLEtBQUssQ0FBQ0QsVUFBVWhCO1FBQy9CO1FBQ0EsS0FBSyxNQUFNQyxjQUFjLElBQUksQ0FBQ1csb0JBQW9CLENBQUU7WUFDaEQsSUFBSVgsV0FBV0UsU0FBUyxDQUFDYSxXQUFXO2dCQUNoQyxNQUFNZixXQUFXRyxRQUFRLENBQUNZLFVBQVVoQjtZQUN4QztRQUNKO0lBQ0o7SUFDQWtCLE1BQU1GLFFBQVEsRUFBRTtRQUNaLEtBQUssTUFBTWYsY0FBYyxJQUFJLENBQUNDLG9CQUFvQixDQUFFO1lBQ2hELElBQUlELFdBQVdFLFNBQVMsSUFBSTtnQkFDeEJGLFdBQVdpQixLQUFLLENBQUNGO1lBQ3JCO1FBQ0o7UUFDQSxLQUFLLE1BQU1mLGNBQWMsSUFBSSxDQUFDVyxvQkFBb0IsQ0FBRTtZQUNoRCxJQUFJWCxXQUFXRSxTQUFTLENBQUNhLFdBQVc7Z0JBQ2hDZixXQUFXaUIsS0FBSyxDQUFDRjtZQUNyQjtRQUNKO0lBQ0o7SUF4REFHLFlBQVlDLE1BQU0sRUFBRVQsU0FBUyxDQUFFO1FBQzNCLElBQUksQ0FBQ0EsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNGLE9BQU8sR0FBR1c7UUFDZixJQUFJLENBQUNaLFlBQVksR0FBRyxFQUFFO1FBQ3RCLElBQUksQ0FBQ04sb0JBQW9CLEdBQUcsRUFBRTtRQUM5QixJQUFJLENBQUNVLG9CQUFvQixHQUFHLEVBQUU7SUFDbEM7QUFtREoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9lbmdpbmUvYnJvd3Nlci9Db3JlL1V0aWxzL0ludGVyYWN0aW9uTWFuYWdlci5qcz82YmJlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbk1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX2ludGVyYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuX2V4dGVybmFsSW50ZXJhY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fcGFydGljbGVJbnRlcmFjdG9ycyA9IFtdO1xuICAgIH1cbiAgICBhc3luYyBleHRlcm5hbEludGVyYWN0KGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLl9leHRlcm5hbEludGVyYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJhY3Rvci5pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGludGVyYWN0b3IuaW50ZXJhY3QoZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNsaWNrTW9kZShtb2RlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLl9leHRlcm5hbEludGVyYWN0b3JzKSB7XG4gICAgICAgICAgICBpbnRlcmFjdG9yLmhhbmRsZUNsaWNrTW9kZT8uKG1vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX2ludGVyYWN0b3JzID0gYXdhaXQgdGhpcy5fZW5naW5lLmdldEludGVyYWN0b3JzKHRoaXMuY29udGFpbmVyLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fZXh0ZXJuYWxJbnRlcmFjdG9ycyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJ0aWNsZUludGVyYWN0b3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLl9pbnRlcmFjdG9ycykge1xuICAgICAgICAgICAgc3dpdGNoIChpbnRlcmFjdG9yLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXh0ZXJuYWxJbnRlcmFjdG9ycy5wdXNoKGludGVyYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGFydGljbGVzXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlSW50ZXJhY3RvcnMucHVzaChpbnRlcmFjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdG9yLmluaXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJ0aWNsZXNJbnRlcmFjdChwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbnRlcmFjdG9yIG9mIHRoaXMuX2V4dGVybmFsSW50ZXJhY3RvcnMpIHtcbiAgICAgICAgICAgIGludGVyYWN0b3IuY2xlYXIocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGludGVyYWN0b3Igb2YgdGhpcy5fcGFydGljbGVJbnRlcmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGludGVyYWN0b3IuaXNFbmFibGVkKHBhcnRpY2xlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGludGVyYWN0b3IuaW50ZXJhY3QocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldChwYXJ0aWNsZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGludGVyYWN0b3Igb2YgdGhpcy5fZXh0ZXJuYWxJbnRlcmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGludGVyYWN0b3IuaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdG9yLnJlc2V0KHBhcnRpY2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGludGVyYWN0b3Igb2YgdGhpcy5fcGFydGljbGVJbnRlcmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGludGVyYWN0b3IuaXNFbmFibGVkKHBhcnRpY2xlKSkge1xuICAgICAgICAgICAgICAgIGludGVyYWN0b3IucmVzZXQocGFydGljbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkludGVyYWN0aW9uTWFuYWdlciIsImV4dGVybmFsSW50ZXJhY3QiLCJkZWx0YSIsImludGVyYWN0b3IiLCJfZXh0ZXJuYWxJbnRlcmFjdG9ycyIsImlzRW5hYmxlZCIsImludGVyYWN0IiwiaGFuZGxlQ2xpY2tNb2RlIiwibW9kZSIsImluaXQiLCJfaW50ZXJhY3RvcnMiLCJfZW5naW5lIiwiZ2V0SW50ZXJhY3RvcnMiLCJjb250YWluZXIiLCJfcGFydGljbGVJbnRlcmFjdG9ycyIsInR5cGUiLCJwdXNoIiwicGFydGljbGVzSW50ZXJhY3QiLCJwYXJ0aWNsZSIsImNsZWFyIiwicmVzZXQiLCJjb25zdHJ1Y3RvciIsImVuZ2luZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QuadTree: function() { return /* binding */ QuadTree; }\n/* harmony export */ });\n/* harmony import */ var _Ranges_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ranges.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Ranges.js\");\n/* harmony import */ var _Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/NumberUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/NumberUtils.js\");\n\n\nconst half = 0.5, double = 2, subdivideCount = 4;\nclass QuadTree {\n    insert(point) {\n        if (!this.rectangle.contains(point.position)) {\n            return false;\n        }\n        if (this._points.length < this.capacity) {\n            this._points.push(point);\n            return true;\n        }\n        if (!this._divided) {\n            this._subdivide();\n        }\n        return this._subs.some((sub)=>sub.insert(point));\n    }\n    query(range, check) {\n        const res = [];\n        if (!range.intersects(this.rectangle)) {\n            return [];\n        }\n        for (const p of this._points){\n            if (!range.contains(p.position) && (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_1__.getDistance)(range.position, p.position) > p.particle.getRadius() && (!check || check(p.particle))) {\n                continue;\n            }\n            res.push(p.particle);\n        }\n        if (this._divided) {\n            for (const sub of this._subs){\n                res.push(...sub.query(range, check));\n            }\n        }\n        return res;\n    }\n    queryCircle(position, radius, check) {\n        return this.query(new _Ranges_js__WEBPACK_IMPORTED_MODULE_0__.Circle(position.x, position.y, radius), check);\n    }\n    queryRectangle(position, size, check) {\n        return this.query(new _Ranges_js__WEBPACK_IMPORTED_MODULE_0__.Rectangle(position.x, position.y, size.width, size.height), check);\n    }\n    constructor(rectangle, capacity){\n        this.rectangle = rectangle;\n        this.capacity = capacity;\n        this._subdivide = ()=>{\n            const { x, y } = this.rectangle.position, { width, height } = this.rectangle.size, { capacity } = this;\n            for(let i = 0; i < subdivideCount; i++){\n                const fixedIndex = i % double;\n                this._subs.push(new QuadTree(new _Ranges_js__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x + width * half * fixedIndex, y + height * half * (Math.round(i * half) - fixedIndex), width * half, height * half), capacity));\n            }\n            this._divided = true;\n        };\n        this._points = [];\n        this._divided = false;\n        this._subs = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9VdGlscy9RdWFkVHJlZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7QUFDUztBQUN6RCxNQUFNRyxPQUFPLEtBQUtDLFNBQVMsR0FBR0MsaUJBQWlCO0FBQ3hDLE1BQU1DO0lBZ0JUQyxPQUFPQyxLQUFLLEVBQUU7UUFDVixJQUFJLENBQUMsSUFBSSxDQUFDQyxTQUFTLENBQUNDLFFBQVEsQ0FBQ0YsTUFBTUcsUUFBUSxHQUFHO1lBQzFDLE9BQU87UUFDWDtRQUNBLElBQUksSUFBSSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sR0FBRyxJQUFJLENBQUNDLFFBQVEsRUFBRTtZQUNyQyxJQUFJLENBQUNGLE9BQU8sQ0FBQ0csSUFBSSxDQUFDUDtZQUNsQixPQUFPO1FBQ1g7UUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDUSxRQUFRLEVBQUU7WUFDaEIsSUFBSSxDQUFDQyxVQUFVO1FBQ25CO1FBQ0EsT0FBTyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUNDLE1BQVFBLElBQUliLE1BQU0sQ0FBQ0M7SUFDL0M7SUFDQWEsTUFBTUMsS0FBSyxFQUFFQyxLQUFLLEVBQUU7UUFDaEIsTUFBTUMsTUFBTSxFQUFFO1FBQ2QsSUFBSSxDQUFDRixNQUFNRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsU0FBUyxHQUFHO1lBQ25DLE9BQU8sRUFBRTtRQUNiO1FBQ0EsS0FBSyxNQUFNaUIsS0FBSyxJQUFJLENBQUNkLE9BQU8sQ0FBRTtZQUMxQixJQUFJLENBQUNVLE1BQU1aLFFBQVEsQ0FBQ2dCLEVBQUVmLFFBQVEsS0FDMUJULGtFQUFXQSxDQUFDb0IsTUFBTVgsUUFBUSxFQUFFZSxFQUFFZixRQUFRLElBQUllLEVBQUVDLFFBQVEsQ0FBQ0MsU0FBUyxNQUM3RCxFQUFDTCxTQUFTQSxNQUFNRyxFQUFFQyxRQUFRLElBQUk7Z0JBQy9CO1lBQ0o7WUFDQUgsSUFBSVQsSUFBSSxDQUFDVyxFQUFFQyxRQUFRO1FBQ3ZCO1FBQ0EsSUFBSSxJQUFJLENBQUNYLFFBQVEsRUFBRTtZQUNmLEtBQUssTUFBTUksT0FBTyxJQUFJLENBQUNGLEtBQUssQ0FBRTtnQkFDMUJNLElBQUlULElBQUksSUFBSUssSUFBSUMsS0FBSyxDQUFDQyxPQUFPQztZQUNqQztRQUNKO1FBQ0EsT0FBT0M7SUFDWDtJQUNBSyxZQUFZbEIsUUFBUSxFQUFFbUIsTUFBTSxFQUFFUCxLQUFLLEVBQUU7UUFDakMsT0FBTyxJQUFJLENBQUNGLEtBQUssQ0FBQyxJQUFJckIsOENBQU1BLENBQUNXLFNBQVNvQixDQUFDLEVBQUVwQixTQUFTcUIsQ0FBQyxFQUFFRixTQUFTUDtJQUNsRTtJQUNBVSxlQUFldEIsUUFBUSxFQUFFdUIsSUFBSSxFQUFFWCxLQUFLLEVBQUU7UUFDbEMsT0FBTyxJQUFJLENBQUNGLEtBQUssQ0FBQyxJQUFJcEIsaURBQVNBLENBQUNVLFNBQVNvQixDQUFDLEVBQUVwQixTQUFTcUIsQ0FBQyxFQUFFRSxLQUFLQyxLQUFLLEVBQUVELEtBQUtFLE1BQU0sR0FBR2I7SUFDdEY7SUFyREFjLFlBQVk1QixTQUFTLEVBQUVLLFFBQVEsQ0FBRTtRQUM3QixJQUFJLENBQUNMLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDSyxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0csVUFBVSxHQUFHO1lBQ2QsTUFBTSxFQUFFYyxDQUFDLEVBQUVDLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQ3ZCLFNBQVMsQ0FBQ0UsUUFBUSxFQUFFLEVBQUV3QixLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQzNCLFNBQVMsQ0FBQ3lCLElBQUksRUFBRSxFQUFFcEIsUUFBUSxFQUFFLEdBQUcsSUFBSTtZQUN0RyxJQUFLLElBQUl3QixJQUFJLEdBQUdBLElBQUlqQyxnQkFBZ0JpQyxJQUFLO2dCQUNyQyxNQUFNQyxhQUFhRCxJQUFJbEM7Z0JBQ3ZCLElBQUksQ0FBQ2MsS0FBSyxDQUFDSCxJQUFJLENBQUMsSUFBSVQsU0FBUyxJQUFJTCxpREFBU0EsQ0FBQzhCLElBQUlJLFFBQVFoQyxPQUFPb0MsWUFBWVAsSUFBSUksU0FBU2pDLE9BQVFxQyxDQUFBQSxLQUFLQyxLQUFLLENBQUNILElBQUluQyxRQUFRb0MsVUFBUyxHQUFJSixRQUFRaEMsTUFBTWlDLFNBQVNqQyxPQUFPVztZQUNySztZQUNBLElBQUksQ0FBQ0UsUUFBUSxHQUFHO1FBQ3BCO1FBQ0EsSUFBSSxDQUFDSixPQUFPLEdBQUcsRUFBRTtRQUNqQixJQUFJLENBQUNJLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNFLEtBQUssR0FBRyxFQUFFO0lBQ25CO0FBd0NKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9VdGlscy9RdWFkVHJlZS5qcz82OWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENpcmNsZSwgUmVjdGFuZ2xlIH0gZnJvbSBcIi4vUmFuZ2VzLmpzXCI7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gXCIuLi8uLi9VdGlscy9OdW1iZXJVdGlscy5qc1wiO1xuY29uc3QgaGFsZiA9IDAuNSwgZG91YmxlID0gMiwgc3ViZGl2aWRlQ291bnQgPSA0O1xuZXhwb3J0IGNsYXNzIFF1YWRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihyZWN0YW5nbGUsIGNhcGFjaXR5KSB7XG4gICAgICAgIHRoaXMucmVjdGFuZ2xlID0gcmVjdGFuZ2xlO1xuICAgICAgICB0aGlzLmNhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgICAgIHRoaXMuX3N1YmRpdmlkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5yZWN0YW5nbGUucG9zaXRpb24sIHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5yZWN0YW5nbGUuc2l6ZSwgeyBjYXBhY2l0eSB9ID0gdGhpcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViZGl2aWRlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpeGVkSW5kZXggPSBpICUgZG91YmxlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnMucHVzaChuZXcgUXVhZFRyZWUobmV3IFJlY3RhbmdsZSh4ICsgd2lkdGggKiBoYWxmICogZml4ZWRJbmRleCwgeSArIGhlaWdodCAqIGhhbGYgKiAoTWF0aC5yb3VuZChpICogaGFsZikgLSBmaXhlZEluZGV4KSwgd2lkdGggKiBoYWxmLCBoZWlnaHQgKiBoYWxmKSwgY2FwYWNpdHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RpdmlkZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGl2aWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgfVxuICAgIGluc2VydChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMucmVjdGFuZ2xlLmNvbnRhaW5zKHBvaW50LnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wb2ludHMubGVuZ3RoIDwgdGhpcy5jYXBhY2l0eSkge1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kaXZpZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJkaXZpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3Vicy5zb21lKChzdWIpID0+IHN1Yi5pbnNlcnQocG9pbnQpKTtcbiAgICB9XG4gICAgcXVlcnkocmFuZ2UsIGNoZWNrKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICBpZiAoIXJhbmdlLmludGVyc2VjdHModGhpcy5yZWN0YW5nbGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwIG9mIHRoaXMuX3BvaW50cykge1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5jb250YWlucyhwLnBvc2l0aW9uKSAmJlxuICAgICAgICAgICAgICAgIGdldERpc3RhbmNlKHJhbmdlLnBvc2l0aW9uLCBwLnBvc2l0aW9uKSA+IHAucGFydGljbGUuZ2V0UmFkaXVzKCkgJiZcbiAgICAgICAgICAgICAgICAoIWNoZWNrIHx8IGNoZWNrKHAucGFydGljbGUpKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnB1c2gocC5wYXJ0aWNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RpdmlkZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuX3N1YnMpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaCguLi5zdWIucXVlcnkocmFuZ2UsIGNoZWNrKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgcXVlcnlDaXJjbGUocG9zaXRpb24sIHJhZGl1cywgY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkobmV3IENpcmNsZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCByYWRpdXMpLCBjaGVjayk7XG4gICAgfVxuICAgIHF1ZXJ5UmVjdGFuZ2xlKHBvc2l0aW9uLCBzaXplLCBjaGVjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeShuZXcgUmVjdGFuZ2xlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSwgY2hlY2spO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJDaXJjbGUiLCJSZWN0YW5nbGUiLCJnZXREaXN0YW5jZSIsImhhbGYiLCJkb3VibGUiLCJzdWJkaXZpZGVDb3VudCIsIlF1YWRUcmVlIiwiaW5zZXJ0IiwicG9pbnQiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBvc2l0aW9uIiwiX3BvaW50cyIsImxlbmd0aCIsImNhcGFjaXR5IiwicHVzaCIsIl9kaXZpZGVkIiwiX3N1YmRpdmlkZSIsIl9zdWJzIiwic29tZSIsInN1YiIsInF1ZXJ5IiwicmFuZ2UiLCJjaGVjayIsInJlcyIsImludGVyc2VjdHMiLCJwIiwicGFydGljbGUiLCJnZXRSYWRpdXMiLCJxdWVyeUNpcmNsZSIsInJhZGl1cyIsIngiLCJ5IiwicXVlcnlSZWN0YW5nbGUiLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJjb25zdHJ1Y3RvciIsImkiLCJmaXhlZEluZGV4IiwiTWF0aCIsInJvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js\n"));

/***/ })

}]);